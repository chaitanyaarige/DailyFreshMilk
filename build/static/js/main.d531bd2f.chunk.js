(this.webpackJsonpdailymilkfresh=this.webpackJsonpdailymilkfresh||[]).push([[0],{264:function(e,t,s){},266:function(e,t,s){},267:function(e,t,s){},268:function(e,t,s){},269:function(e,t,s){},274:function(e,t,s){},316:function(e,t,s){},317:function(e,t,s){},323:function(e,t){},325:function(e,t){},339:function(e,t){},341:function(e,t){},369:function(e,t){},371:function(e,t){},372:function(e,t){},377:function(e,t){},379:function(e,t){},385:function(e,t){},387:function(e,t){},406:function(e,t){},418:function(e,t){},421:function(e,t){},465:function(e,t,s){},466:function(e,t,s){},467:function(e,t,s){},470:function(e,t,s){},491:function(e,t,s){},496:function(e,t,s){},497:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(70),r=s.n(c),i=(s(316),s(4)),l=(s(317),s(94)),o=s(30),d=a.a.createContext(),u=s(586),j=s(67),b=s.n(j),h=s(291),O=s(185),m=s(277),f=s.n(m),_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOSTNAME||"https://dailyorganicfresh.dailyfresh.farm",v=f.a.create({baseURL:_,timeout:1e4}),p=function(e,t){return v({method:"POST",url:"/user/listUsers",data:{type_of_user:e},headers:{access_token:t}})},g=function(e){return v({method:"POST",url:"/user/register/",data:e.user,headers:{access_token:e.access_token}})},x=function(e){return v({method:"GET",url:"/user/".concat(e.verify_code,"/verify/").concat(e.otp)})},y=s.p+"static/media/eye_close.73573ab2.svg",N=s.p+"static/media/eye_open.e5325192.svg",w=(s(264),s.p+"static/media/logo.9631ecf8.png"),S=s(1);function k(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(null),j=Object(i.a)(u,2),h=j[0],O=j[1],m=function(t){var s;t.preventDefault(),e.setClickOnce(!0),(s=e.username,v({method:"POST",url:"user/forgot",data:{phone_no:s}})).then((function(t){O(t.data.code),e.setClickOnce(!1)})).catch((function(t){e.setapiresponse(t.response.message),e.setClickOnce(!1)}))},f=function(t){t.preventDefault();var s=b.a.sign({data:o,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51");(function(e){return v({method:"POST",url:"user/".concat(e.code,"/password"),data:{pin:1234,npassword:e.newpassword}})})({code:h,otp:a,newpassword:s}).then((function(t){e.setapiresponse(t.data.message),setTimeout((function(){e.setResetPassword(!1),e.setapiresponse(null)}),3e3)})).catch((function(t){e.setapiresponse(t.response.data.message)}))};return Object(S.jsxs)("form",{className:"Login__sub-container",children:[Object(S.jsx)("div",{className:"Login__login-header",children:"Forgot Password"}),e.apiresponsemessage?Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("span",{className:"Login__success-password",children:e.apiresponsemessage})}):null,h?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"New Password",onChange:function(e){return d(e.target.value)},value:o}),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Enter OTP",onChange:function(e){return c(e.target.value)},value:a}),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{onClick:function(e){return f(e)},disabled:o.length<3||a.length<3||e.clickedonce,type:"submit",value:"Change Password",className:o.length<3||a.length<3||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Phone Number",onChange:function(t){return e.setUsername(t.target.value)},value:e.username}),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{onClick:function(e){return m(e)},type:"submit",value:"Request OTP",disabled:10!==e.username.length||e.clickedonce,className:10!==e.username.length||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]})]})}function C(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),l=r[0],j=r[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),_=f[0],p=f[1],g=Object(n.useState)(""),x=Object(i.a)(g,2),C=x[0],A=x[1],P=Object(n.useState)(""),L=Object(i.a)(P,2),D=L[0],U=L[1],T=Object(n.useState)(null),E=Object(i.a)(T,2),z=E[0],I=E[1],M=Object(o.g)(),q=Object(n.useContext)(d),R=function(){j(!l)};function F(){return C.length>3&&D.length>3}var H=function(e){(function(e){return v({method:"POST",url:"oauth/token",headers:{grant_type:"code",code:e}})})(e).then((function(e){B(e.data.access_token,e.data.refresh_token)})).catch((function(e){I(e.response.data.message),console.log("error in request",e)}))},B=function(e,t){(function(e){return v({method:"GET",url:"user/details",headers:{access_token:e}})})(e).then((function(s){return 1===s.data.data.user_type?(q.setIsLoggedIn(!0),q.setAccessToken(e),q.setIsAdmin(!0),q.setRefreshToken(t),q.saveuserDetails(s.data.data),M.push("/dashboard")):2===s.data.data.user_type?(q.setIsLoggedIn(!0),q.setAccessToken(e),q.setIsAdmin(!1),q.setRefreshToken(t),q.saveuserDetails(s.data.data),M.push("/dashboard")):void I("Un Authorized User")}))};return Object(S.jsx)("div",{className:"Login__main-container",children:Object(S.jsxs)(h.a,{className:"Login__paper",elevation:2,children:[Object(S.jsx)("img",{className:"Login__logo-image",src:w,alt:"this is logo"}),s?Object(S.jsx)(k,{username:C,setUsername:A,setResetPassword:a,apiresponsemessage:z,setapiresponse:I,clickedonce:_,setClickOnce:p}):Object(S.jsxs)("form",{className:"Login__sub-container",children:[Object(S.jsx)("div",{className:"Login__login-header",children:" Sign in - Admin Panel "}),z?Object(S.jsx)("div",{className:"Login__wrong-password",children:z}):null,Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)(O.a,{error:Boolean(z),id:"username",label:"Phone Number",fullWidth:!0,size:"small",value:C,onChange:function(e){return A(e.target.value)}})}),Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)(O.a,{type:l?"text":"password",error:Boolean(z),id:"password",label:"Password",fullWidth:!0,size:"small",value:D,onChange:function(e){return U(e.target.value)}}),l?Object(S.jsx)("span",{onClick:R,className:"Login__show-password",children:Object(S.jsx)("img",{className:"",src:y,alt:"closeeye"})}):Object(S.jsx)("span",{onClick:R,className:"Login__show-password",children:Object(S.jsx)("img",{className:"",src:N,alt:"closeeye"})})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{onClick:function(e){e.preventDefault(),p(!0);var t=b.a.sign({data:D,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),s={phone_no:C,password:t,app_token:Object(u.a)()};q.setIsLoggedIn(!1),q.setAccessToken(null),q.setIsAdmin(!1),q.setRefreshToken(null),function(e){return v({method:"POST",url:"user/login",data:e})}(s).then((function(e){H(e.data.code),p(!1)})).catch((function(e){I(e&&e.response&&e.response.data.message),p(!1),console.log("error in request",e)}))},disabled:!F()||_,type:"submit",value:"Log In",className:F()?"Login__submit":"Login__submit Login__submit-disabled"})}),Object(S.jsx)("div",{className:"Login__signup",onClick:function(e){return function(e){e.preventDefault(),a(!0),I(null)}(e)},children:Object(S.jsx)("span",{className:"Login__forgot",children:" Forgot your password ? "})})]})]})})}s(465),s(466);var A,P=["title","titleId"];function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function U(e,t){var s=e.title,a=e.titleId,c=D(e,P);return n.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-gear-wide-connected",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,A||(A=n.createElement("path",{d:"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"})))}var T,E,z=n.forwardRef(U),I=(s.p,["title","titleId"]);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function R(e,t){var s=e.title,a=e.titleId,c=q(e,I);return n.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-bag-check",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,T||(T=n.createElement("path",{fillRule:"evenodd",d:"M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"})),E||(E=n.createElement("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"})))}var F,H=n.forwardRef(R),B=(s.p,["title","titleId"]);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function W(e,t){var s=e.title,a=e.titleId,c=G(e,B);return n.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-truck",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,F||(F=n.createElement("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})))}var J,Q=n.forwardRef(W),K=(s.p,["title","titleId"]);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Y(e,t){var s=e.title,a=e.titleId,c=$(e,K);return n.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,J||(J=n.createElement("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})))}var X,ee,te=n.forwardRef(Y),se=(s.p,["title","titleId"]);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ce(e,t){var s=e.title,a=e.titleId,c=ae(e,se);return n.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-person-square",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,X||(X=n.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})),ee||(ee=n.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"})))}var re,ie,le=n.forwardRef(ce),oe=(s.p,["title","titleId"]);function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function je(e,t){var s=e.title,a=e.titleId,c=ue(e,oe);return n.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-person-plus",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,re||(re=n.createElement("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})),ie||(ie=n.createElement("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})))}var be,he,Oe=n.forwardRef(je),me=(s.p,["title","titleId"]);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ve(e,t){var s=e.title,a=e.titleId,c=_e(e,me);return n.createElement("svg",fe({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-card-checklist",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,be||(be=n.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"})),he||(he=n.createElement("path",{d:"M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"})))}var pe=n.forwardRef(ve);s.p;function ge(e){var t,s=Object(n.useContext)(d),a=Object(n.useState)([{title:"Orders",value:"orders_list"},{title:"Users",value:"users_list"},{title:"Agents",value:"agents_list"},{title:"Products",value:"products_list"},{value:"assign_users",title:"Assign Users"},{value:"delivery_type",title:"Delivery Types"},{value:"settings",title:"Account"}]),c=Object(i.a)(a,1)[0],r=Object(n.useState)([{title:"Deliveries",value:"deliveries"},{title:"settings",value:"settings"}]),l=Object(i.a)(r,1)[0],u=Object(o.g)(),j=Object(n.useRef)(),b=Object(n.useState)(Boolean(window.innerWidth>1025)),h=Object(i.a)(b,1)[0],O=Object(n.useRef)(null);t=O,Object(n.useEffect)((function(){function e(e){h||!t.current||t.current.contains(e.target)||(j.current.checked=!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]);var m=function(e){switch(e.toString()){case"1":return Object(S.jsx)(H,{style:{color:"white"}});case"2":return Object(S.jsx)(te,{style:{color:"white"}});case"3":return Object(S.jsx)(le,{style:{color:"white"}});case"4":return Object(S.jsx)(pe,{style:{color:"white"}});case"5":return Object(S.jsx)(Oe,{style:{color:"white"}});case"6":return Object(S.jsx)(Q,{style:{color:"white"}});case"7":default:return Object(S.jsx)(z,{style:{color:"white"}})}},f=function(e){switch(e.toString()){case"1":return Object(S.jsx)(Q,{style:{color:"white"}});case"2":default:return Object(S.jsx)(z,{style:{color:"white"}})}},_=s.isAdmin?c:l;return Object(S.jsxs)("div",{ref:O,className:"Navbar__header",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("input",{type:"checkbox",defaultChecked:h,ref:j,className:"openSidebarMenu",id:"openSidebarMenu"}),Object(S.jsxs)("label",{htmlFor:"openSidebarMenu",className:"Navbar__sidebarIconToggle",children:[Object(S.jsx)("div",{className:"spinner diagonal part-1"}),Object(S.jsx)("div",{className:"spinner horizontal"}),Object(S.jsx)("div",{className:"spinner diagonal part-2"})]}),Object(S.jsxs)("div",{id:"sidebarMenu",className:"Navbar__sidebarMenu",children:[Object(S.jsxs)("div",{className:"Navbar__sidebarMenu-header",children:[s.isAdmin?"Admin":"Agent"," Dashboard ",Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:"Have a Happy Day "})]}),Object(S.jsx)("ul",{className:"Navbar__sidebarMenu-inner",children:_.map((function(t,n){return Object(S.jsx)("li",{onClick:function(s){return function(t,s){t.preventDefault(),e.currentMenuSelection(s),h||(j.current.checked=!1)}(s,t.value)},children:Object(S.jsxs)("div",{className:"Navbar__sideMenu-icons",children:[s.isAdmin?m(n+1):f(n+1),Object(S.jsx)("span",{className:"Navbar__sideMenu-icons-img",children:t.title})]})},n)}))})]})]}),Object(S.jsx)("div",{onClick:function(e){return function(e){return e.preventDefault(),u.push("/")}(e)},className:"Navbar__component-name",children:Object(S.jsx)("img",{height:"80px",width:"150px",src:w,alt:"Daily"})}),Object(S.jsxs)("div",{onClick:function(e){return e.preventDefault(),localStorage.clear(),sessionStorage.clear(),s.setIsLoggedIn(!1),s.setAccessToken(null),s.setIsAdmin(!1),s.setRefreshToken(null),u.push("/")},className:"Navbar__logout-container",children:[Object(S.jsx)("div",{className:"Navbar__logout-image",children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"white",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(S.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]})}),Object(S.jsx)("div",{className:"Navbar__logout-text",children:"LOGOUT"})]})]})}var xe,ye=s(593),Ne=s(580),we=s(594),Se=s(595),ke=["title","titleId"];function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Pe(e,t){var s=e.title,a=e.titleId,c=Ae(e,ke);return n.createElement("svg",Ce({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-house-door",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,xe||(xe=n.createElement("path",{d:"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"})))}var Le=n.forwardRef(Pe);s.p;function De(e){var t=Object(n.useState)(0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useRef)(null);return Object(S.jsxs)(ye.a,{sx:{pb:7},ref:r,children:[Object(S.jsx)(Ne.a,{}),Object(S.jsx)(h.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(S.jsxs)(we.a,{showLabels:!0,value:a,onChange:function(t,s){var n;n=s,t.preventDefault(),e.currentMenuSelection((n+1).toString()),c(s)},children:[Object(S.jsx)(Se.a,{label:"Home",icon:Object(S.jsx)(Le,{style:{color:"#90a0ee"}})}),Object(S.jsx)(Se.a,{label:"Deliveries",icon:Object(S.jsx)(Q,{style:{color:"#90a0ee"}})}),Object(S.jsx)(Se.a,{label:"Account",icon:Object(S.jsx)(z,{style:{color:"#90a0ee"}})})]})})]})}var Ue=s(12);function Te(e){return Object(S.jsx)("div",{className:"Orders__card-container",children:e.orders.map((function(t,s){return Object(S.jsxs)(h.a,{className:"Orders__order",elevation:2,children:[Object(S.jsxs)("div",{className:"Orders__date-address-row",children:[Object(S.jsx)("div",{className:"Orders__date",children:t.modified_at}),Object(S.jsx)("div",{className:"Orders__address",children:t.address})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsxs)("div",{className:"Orders__cust-id",children:[Object(S.jsx)("span",{children:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(S.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",t.id]}),Object(S.jsx)("div",{onClick:function(s){return function(t,s){t.preventDefault(),e.currentUserSelection(s)}(s,t.delivery_id)},className:"Orders__status "+(n=t.delivery_status.toString(),"booked"===n?"Orders__blue":"delivered"===n?"Orders__green":"cancelled"===n?"Orders__red":"intransit"===n?"Orders__orange":"pickedup"===n?"Orders__yellow":"Orders__grey"),children:t.delivery_status})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(S.jsx)("div",{className:"cust-idnumber",children:t.user_name})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Agent"}),Object(S.jsx)("div",{className:"cust-idnumber",children:t.agent_name})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(S.jsx)("div",{className:"cust-idnumber",children:t.delivery_type})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(S.jsx)("div",{onClick:function(e){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(e,t.lat,t.lng)},className:"cust-idnumber Orders__status ",children:"Click Here - Maps"})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(S.jsxs)("div",{className:"cust-idnumber",children:["\u20b9 ",t.price,"/-"]})]}),Object(S.jsxs)("div",{className:"Orders__products-row",children:[Object(S.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(S.jsxs)("div",{className:"Orders__product",children:[t.product," - ",t.quantity]})]})]},s);var n}))})}function Ee(e){return Object(S.jsxs)("div",{children:["Cancel order Delivery id: ",e.order,Object(S.jsx)(O.a,{id:"frdate",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}}),Object(S.jsx)(O.a,{id:"todate",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),onChange:function(e){console.log(e.target.value)},InputLabelProps:{shrink:!0}})]})}s(467);function ze(e){return Object(S.jsx)("div",{className:"MiniNavbar__main",children:e.isVisible?Object(S.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.clearCurrentUser()}(t)},className:"MiniNavbar__flexcenter",children:[Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:Object(S.jsx)("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})})," ",Object(S.jsx)("span",{children:" \xa0 Back"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByName()}(t)},className:"MiniNavbar__flexcenter",children:[Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(S.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]})," ",Object(S.jsx)("span",{children:"Name"})]}),Object(S.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByLocation()}(t)},className:"MiniNavbar__flexcenter",children:[Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(S.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(S.jsx)("span",{children:"Location"})]}),Object(S.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByNumber()}(t)},className:"MiniNavbar__flexcenter",children:[Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(S.jsx)("path",{d:"M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"}),Object(S.jsx)("path",{fillRule:"evenodd",d:"M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"}),Object(S.jsx)("path",{d:"M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(S.jsx)("span",{children:"User Id"})]})]})})}var Ie=s(583),Me=s(581),qe=s(588),Re=s(514);function Fe(e){return Object(S.jsx)("div",{children:Object(S.jsx)(qe.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(S.jsx)(Re.a,{color:"inherit"})})})}var He=s(590),Be=function(e,t){return v({method:"POST",url:"product/get",data:{availability:e},headers:{access_token:t}})},Ve=function(e){return v({method:"GET",url:"deliverytype/listdeliverytypes",headers:{access_token:e}})},Ge=function(e,t){return v({method:"POST",url:"/agent/delivery",headers:{access_token:t},data:e})},We=s(122);function Je(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){console.info(a,"export_page number")}),[a]),Object(S.jsx)("div",{style:{height:600,width:"100%"},children:Object(S.jsx)(We.a,{nodeRef:r,rows:e.orders,columns:[{field:"id",headerName:"ID",width:90},{field:"user_name",headerName:"Customer name",width:200,editable:!0},{field:"agent_name",headerName:"Agent name",width:200,editable:!0},{field:"product",headerName:"Product Type",width:140,editable:!0},{field:"delivery_type",headerName:"Delivery Type",description:"Delivery Type.",width:120},{field:"delivery_status",headerName:"Delivery Status",description:"Delivery Status.",width:160},{field:"quantity",headerName:"Quantity",description:"Delivery Type.",width:100},{field:"price",headerName:"Price",description:"Price.",width:100},{field:"modified_at",headerName:"Modified",description:"Delivery Type.",width:200}],pageSize:5,rowsPerPageOptions:[5],onSelectionModelChange:function(e){c(e.selectionModel)},disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(S.jsx)(We.b,{className:We.d.toolbarContainer,children:Object(S.jsx)(We.c,{})})}}})})}s(266);function Qe(){var e=Object(n.useContext)(d),t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(1),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)([]),f=Object(i.a)(m,2),_=f[0],g=f[1],x=Object(n.useState)([]),y=Object(i.a)(x,2),N=y[0],w=y[1],k=Object(n.useState)([]),C=Object(i.a)(k,2),A=C[0],P=C[1],L=Object(n.useState)([]),D=Object(i.a)(L,2),U=D[0],T=D[1],E=Object(n.useState)(!1),z=Object(i.a)(E,2),I=z[0],M=z[1],q=Object(n.useState)([]),R=Object(i.a)(q,2),F=R[0],B=R[1],V=Object(n.useState)([]),G=Object(i.a)(V,2),W=G[0],J=G[1],Q=e.access_token,K=e.refreshAccessToken;Object(n.useEffect)((function(){M(!0),p(null,Q).then((function(e){T(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&K()})),Ve(Q).then((function(e){J(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&K()})),Be(null,Q).then((function(e){B(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&K()})),function(e,t){return v({method:"POST",url:"/agentuser/listAgentUsers",headers:{access_token:e},data:t})}(Q).then((function(e){g(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&K()})),setTimeout((function(){M(!1)}),2e3)}),[Q,K]);var Z=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),O(t);var s=N.slice(6*(t-1),6*t);P(s)}),[N]),$=Object(n.useCallback)((function(){var e=["booked","intransit","delivered","pickedup","red"],t=function(t){var s=e[t];return s||"Not Available"},s=function(e){var t=_.find((function(t){return t.QRNumber===e}));return t?t.date:new Date(Date.now()).toLocaleString()},n=function(e){var t=U.find((function(t){return t.user_id===e}));return null===t||void 0===t?void 0:t.name},a=function(e){var t=W.find((function(t){return t.delivery_type===e}));return t&&t.name},c=function(e){var t=F.find((function(t){return t.product_type===e}));return t&&t.name};w([]),_.forEach((function(e){var r={user_id:e.user_id,delivery_id:e.delivery_id,user_name:n(e.user_id),agent_name:n(e.agent_id),delivery_type:a(e.delivery_type),product:c(e.product_type),delivery_status:t(e.delivery_status),quantity:e.quantity,price:e.price,lat:e.lat,lng:e.long,id:e.id,modified_at:s(e.modified_at)};w((function(e){return[].concat(Object(Ue.a)(e),[r])}))}))}),[_,W,F,U]);return Object(n.useEffect)((function(){Z(null,1)}),[N,Z]),Object(n.useEffect)((function(){$()}),[_,$]),Object(S.jsx)("div",{className:"Orders__main-container",children:I?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(H,{})," ","  "," My Orders"]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return u(!o)},children:o?"Back to Orders":"Export current data"})})]}),o?Object(S.jsx)(Je,{users:U,deliveryTypes:W,products:F,orders:N}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ze,{isVisible:a,clearCurrentUser:function(){c(null)},sortByName:function(){},sortByNumber:function(e){},sortByLocation:function(e){}}),a?Object(S.jsx)(Ee,{order:a}):Object(S.jsxs)("div",{children:[Object(S.jsx)(Te,{currentUserSelection:function(e){c(e)},orders:A}),Object(S.jsx)("div",{className:"Orders__pagination",children:Object(S.jsx)(Me.a,{spacing:2,children:Object(S.jsx)(Ie.a,{onChange:function(e,t){return Z(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:_.length%6===0?_.length/6:Math.floor(_.length/6)+1,page:h})})})]})]})]})})}var Ke=s.p+"static/media/singlePerson.5b613f1e.svg";function Ze(e){return Object(S.jsx)("div",{className:"Users__card-container",children:e.users.map((function(e,t){return Object(S.jsxs)(h.a,{className:"Users__order",elevation:2,children:[Object(S.jsxs)("div",{className:"Users__customername",children:[Object(S.jsxs)("div",{className:"Users__cust-id",children:[Object(S.jsx)("span",{children:Object(S.jsx)("img",{src:Ke,alt:"user"})}),"\xa0 User Type"]}),Object(S.jsx)("div",{className:"Users__status ",children:"User"})]}),Object(S.jsxs)("div",{className:"Users__products-row",children:[Object(S.jsx)("div",{className:"Users__cust-heading",children:"Customer Name"}),Object(S.jsx)("div",{className:"Users__right-column",children:e.name})]}),Object(S.jsxs)("div",{className:"Users__products-row",children:[Object(S.jsx)("div",{className:"Users__date",children:"Phone"}),Object(S.jsx)("div",{className:"Users__right-column",children:e.phone_no})]}),Object(S.jsxs)("div",{className:"Users__products-row",children:[Object(S.jsx)("div",{className:"Users__product-id",children:"Email"}),Object(S.jsx)("div",{className:"Users__right-column",children:e.email_id})]}),Object(S.jsxs)("div",{className:"Users__products-row",children:[Object(S.jsx)("div",{className:"Users__date",children:"Address"}),Object(S.jsx)("div",{className:"Users__right-column",children:e.address})]}),Object(S.jsxs)("div",{className:"Users__date-address-row",children:[Object(S.jsx)("div",{className:"Users__date",children:"Joined Date"}),Object(S.jsx)("div",{className:"Users__right-column",children:new Date(e.created_at).toLocaleString()})]})]},t)}))})}var $e=s(24),Ye=s.n($e),Xe=s(13),et=s(32),tt=s(98),st=s(589),nt=s(85);function at(e){return Object(S.jsx)("div",{children:Object(S.jsx)(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:2e3,message:e.message,action:Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(nt.a,{size:"small","aria-label":"close",color:"inherit",children:"x"})})})})}s(267);function ct(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"3",app_token:Object(u.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(n.useState)(null),h=Object(i.a)(j,2),O=h[0],m=h[1],f=function(){var e=Object(et.a)(Ye.a.mark((function e(t){var s,n;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(Xe.a)({},n));case 5:if(!p.length){e.next=7;break}return e.abrupt("return");case 7:N();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(tt.a)(),v=_.register,p=_.formState.errors,y=_.handleSubmit,N=function(){var t={user:a,access_token:e.access_token};g(t).then((function(e){d(e.data.code)})).catch((function(e){console.log("Failed",e.response),m("Failed")}))},w=function(t){var s={verify_code:o,otp:t.otp};x(s).then((function(t){m("successfully saved"),setTimeout((function(){e.addUserClicked()}),2e3)})).catch((function(e){m("Failed to saved"),console.log(e.response)}))};return Object(S.jsxs)("div",{className:"Users__sub-container",children:[o?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:y((function(e){p.length||w(e)})),children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},v("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{className:p.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(S.jsx)("div",{children:Object(S.jsxs)("form",{onSubmit:y(f),children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[p.name&&Object(S.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},v("name",{required:!0,min:5}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.email_id&&Object(S.jsx)("span",{className:"Users__errors",children:p.email_id.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},v("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.phone_no&&Object(S.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},v("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.address&&Object(S.jsx)("span",{className:"Users__errors",children:p.address.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},v("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.password&&Object(S.jsx)("span",{className:"Users__errors",children:p.password.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},v("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{disabled:o,className:p.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),O&&Object(S.jsx)(at,{message:O})]})}function rt(){var e=Object(n.useContext)(d),t=Object(n.useState)(!0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(1),f=Object(i.a)(m,2),_=f[0],v=f[1],g=Object(n.useState)([]),x=Object(i.a)(g,2),y=x[0],N=x[1],w=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),v(t);var s=o.slice(6*(t-1),6*t);return N(s)}),[o]);Object(n.useEffect)((function(){p(3,e.access_token).then((function(e){c(!1),u(e.data.data)})).catch((function(t){t&&t.response&&401===t.response.status&&(c(!0),e.refreshAccessToken())}))}),[e.access_token,h,e]),Object(n.useEffect)((function(){w(null,1)}),[o,w]);var k=function(e){e&&e.preventDefault(),O(!h)};return Object(S.jsxs)("div",{className:"Users__main-container",children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(te,{})," ","  "," Users"]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return k(e)},children:h?"Cancel Adding":"Add new User"})})]}),a?Object(S.jsxs)("div",{className:"Users__spinners",children:[Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(S.jsx)("div",{children:h?Object(S.jsx)(ct,{addUserClicked:k,access_token:e.access_token}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Ze,{users:y}),Object(S.jsx)("div",{className:"Orders__pagination",children:Object(S.jsx)(Me.a,{spacing:2,children:Object(S.jsx)(Ie.a,{onChange:function(e,t){return w(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:o.length%6===0?o.length/6:Math.floor(o.length/6)+1,page:_})})})]})})]})}function it(e){var t,s=Object(n.useState)(e.products),a=Object(i.a)(s,2),c=a[0],r=a[1],l=function(t){var s=0===c.availability?1:0;t.preventDefault(),r(Object(Xe.a)(Object(Xe.a)({},c),{},{availability:s}));var n={availability:s.toString()};!function(e,t,s){v({method:"POST",url:"/product/".concat(t,"/update"),data:s,headers:{access_token:e}})}(e.access_token,c.id,n)};return Object(S.jsx)("div",{className:"Products__card-box",children:Object(S.jsxs)(h.a,{className:"Products__order",elevation:2,children:[Object(S.jsxs)("div",{className:"Products__customername",children:[Object(S.jsx)("div",{className:"Products__cust-id",children:"In Stock "}),Object(S.jsx)("div",{onClick:function(e){return l(e)},className:"Products__status "+(t=c.availability,1===t?"Orders__blue":0===t?"Orders__yellow":"Orders__grey"),children:1===c.availability?"Available":"Not available"})]}),Object(S.jsxs)("div",{className:"Products__products-row",children:[Object(S.jsx)("div",{className:"Products__cust-heading",children:"Name"}),Object(S.jsx)("div",{className:"Products__right-column",children:c.name})]}),Object(S.jsxs)("div",{className:"Products__products-row",children:[Object(S.jsx)("div",{className:"Products__date",children:"Description"}),Object(S.jsx)("div",{className:"Products__right-column",children:c.description})]}),Object(S.jsxs)("div",{className:"Products__products-row",children:[Object(S.jsx)("div",{className:"Products__product-id",children:"Price"}),Object(S.jsx)("div",{className:"Products__right-column",children:c.price})]}),Object(S.jsxs)("div",{className:"Products__products-row",children:[Object(S.jsx)("div",{className:"Products__date",children:"Product Type"}),Object(S.jsx)("div",{className:"Products__right-column",children:c.product_type})]})]})})}s(268);function lt(e){var t=Object(n.useState)({name:"",description:"",price:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(){var e=Object(et.a)(Ye.a.mark((function e(t){var s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object.assign(a,t),c(Object(Xe.a)({},s)),!d.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,j();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(tt.a)(),o=l.register,d=l.formState.errors,u=l.handleSubmit,j=function(){(function(e){return v({method:"POST",url:"product/add",data:e.product,headers:{access_token:e.access_token}})})({product:a,access_token:e.access_token}).then((function(t){alert("success"),setTimeout((function(){e.toggleAddProduct(!1)}),2e3)})).catch((function(e){console.log("Failed",e.response),alert("Failed")}))};return Object(S.jsx)("div",{className:"Products__sub-container",children:Object(S.jsxs)("form",{onSubmit:u(r),children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[d.name&&Object(S.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 3 characters"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},o("name",{required:"required",minLength:{value:3,message:"Please enter a valid password min 8 char"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[d.price&&Object(S.jsx)("div",{className:"Users__errors",children:"This field is required"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",placeholder:"Price",type:"number"},o("price",{required:"required",min:1}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[d.description&&Object(S.jsx)("div",{className:"Users__errors",children:'Please enter a valid description min 8 char"'}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"description",placeholder:"Description"},o("description",{required:"required",min:5}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{className:d.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New Product"})})]})})}function ot(){var e=Object(n.useContext)(d),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(1),f=Object(i.a)(m,1)[0];Object(n.useEffect)((function(){c(!0),Be(null,e.access_token).then((function(e){u(e.data.data),setTimeout((function(){c(!1)}),1e3)})).catch((function(t){var s,n=null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.status;n&401===n&&(e.refreshAccessToken(),c(!1))}))}),[e.access_token,e,h]);return Object(S.jsxs)("div",{className:"Products__main-container",children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(pe,{})," ","  "," Products"]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e&&e.preventDefault(),O(!h)}(e)},children:h?"Cancel Adding":"Add new Product"})})]}),a?Object(S.jsxs)("div",{className:"Products__spinners",children:[Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"Products__card-container",children:h?Object(S.jsx)(lt,{toggleAddProduct:O,access_token:e.access_token}):Object(S.jsx)(S.Fragment,{children:o.map((function(t,s){return Object(S.jsx)(it,{access_token:e.access_token,products:t},s)}))})}),Object(S.jsx)("div",{className:h?"Orders__pagination Orders__pagination-none":"Orders__pagination",children:Object(S.jsx)(Me.a,{spacing:2,children:Object(S.jsx)(Ie.a,{variant:"outlined",color:"primary",boundaryCount:2,count:o.length%2===0?o.length/2:Math.floor(o.length/2)+1,page:f})})})]})]})}function dt(e){return Object(S.jsx)("div",{className:"Agents__card-container",children:e.agents.map((function(e,t){return Object(S.jsxs)(h.a,{className:"Agents__order",elevation:2,children:[Object(S.jsxs)("div",{className:"Agents__customername",children:[Object(S.jsxs)("div",{className:"Agents__cust-id",children:[Object(S.jsx)("span",{children:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(S.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 User Type"]}),Object(S.jsx)("div",{className:"Agents__status ",children:"Agent"})]}),Object(S.jsxs)("div",{className:"Agents__products-row",children:[Object(S.jsx)("div",{className:"Agents__cust-heading",children:"Agent Name"}),Object(S.jsx)("div",{className:"Agents__right-column",children:e.name})]}),Object(S.jsxs)("div",{className:"Agents__products-row",children:[Object(S.jsx)("div",{className:"Agents__date",children:"Phone"}),Object(S.jsx)("div",{className:"Agents__right-column",children:e.phone_no})]}),Object(S.jsxs)("div",{className:"Agents__products-row",children:[Object(S.jsx)("div",{className:"Agents__product-id",children:"Email"}),Object(S.jsx)("div",{className:"Agents__right-column",children:e.email_id})]}),Object(S.jsxs)("div",{className:"Agents__products-row",children:[Object(S.jsx)("div",{className:"Agents__date",children:"Address"}),Object(S.jsx)("div",{className:"Agents__right-column",children:e.address})]}),Object(S.jsxs)("div",{className:"Agents__date-address-row",children:[Object(S.jsx)("div",{className:"Agents__date",children:"Joined Date"}),Object(S.jsx)("div",{className:"Agents__right-column",children:new Date(e.created_at).toLocaleString()})]})]},t)}))})}s(269);function ut(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"2",app_token:Object(u.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(n.useState)(null),h=Object(i.a)(j,2),O=h[0],m=h[1],f=function(){var e=Object(et.a)(Ye.a.mark((function e(t){var s,n;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(Xe.a)({},n));case 5:if(!p.length){e.next=7;break}return e.abrupt("return");case 7:N();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(tt.a)(),v=_.register,p=_.formState.errors,y=_.handleSubmit,N=function(){var t={user:a,access_token:e.access_token};g(t).then((function(e){d(e.data.code)})).catch((function(e){console.log("Failed",e.response),m("Failed")}))},w=function(t){var s={verify_code:o,otp:t.otp};x(s).then((function(t){m("successfully saved"),setTimeout((function(){e.addAgentClicked()}),2e3)})).catch((function(e){m("Failed to saved"),console.log(e.response)}))};return Object(S.jsxs)("div",{className:"Users__sub-container",children:[o?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{onSubmit:y((function(e){p.length||w(e)})),children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},v("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{className:p.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(S.jsx)("div",{children:Object(S.jsxs)("form",{onSubmit:y(f),children:[Object(S.jsxs)("div",{className:"Login__col-3",children:[p.name&&Object(S.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},v("name",{required:!0,min:5}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.email_id&&Object(S.jsx)("span",{className:"Users__errors",children:p.email_id.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},v("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.phone_no&&Object(S.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},v("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.address&&Object(S.jsx)("span",{className:"Users__errors",children:p.address.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},v("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsxs)("div",{className:"Login__col-3",children:[p.password&&Object(S.jsx)("span",{className:"Users__errors",children:p.password.message}),Object(S.jsx)("input",Object(Xe.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},v("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(S.jsx)("span",{className:"focus-border"})]}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{disabled:o,className:p.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),O&&Object(S.jsx)(at,{message:O})]})}function jt(){var e=Object(n.useContext)(d),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(!0),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(1),f=Object(i.a)(m,1)[0];Object(n.useEffect)((function(){p(2,e.access_token).then((function(e){setTimeout((function(){O(!1)}),1e3),c(e.data.data)})).catch((function(t){t&&t.response&&401===t.response.status&&(O(!0),e.refreshAccessToken())}))}),[e.access_token,o,e]);var _=function(e){e&&e.preventDefault(),u(!o)};return Object(S.jsxs)("div",{className:"Agents__main-container",children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(le,{})," ","  "," Agents"]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return _(e)},children:o?"Cancel Adding":"Add new Agent"})})]}),h?Object(S.jsxs)("div",{className:"Agents__spinners",children:[Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(S.jsx)("div",{children:o?Object(S.jsx)(ut,{addAgentClicked:_,access_token:e.access_token}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(dt,{agents:a}),Object(S.jsx)("div",{className:"Orders__pagination",children:Object(S.jsx)(Me.a,{spacing:2,children:Object(S.jsx)(Ie.a,{variant:"outlined",color:"primary",boundaryCount:2,count:a.length%6===0?a.length/6:Math.floor(a.length/6)+1,page:f})})})]})})]})}s(470);var bt=s(282),ht=s.n(bt);function Ot(){var e=Object(n.useContext)(d),t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!0),l=Object(i.a)(r,2),o=l[0],u=l[1],j=e.access_token,b=e.userDetails,h=Object(n.useState)({name:"",email_id:"",phone_no:"",address:""}),O=Object(i.a)(h,2),m=O[0],f=O[1],_=function(e){e.preventDefault(),u(!o)};Object(n.useEffect)((function(){f((function(e){return Object(Xe.a)(Object(Xe.a)({},e),b)})),function(){var e=Object(et.a)(Ye.a.mark((function e(){var t,s;return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={errorCorrectionLevel:"H",type:"image/jpeg",quality:1,margin:1,color:{dark:"#000",light:"#FFF"}},e.next=4,ht.a.toDataURL(b.user_id,t);case 4:s=e.sent,c(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[b]);var p=function(e,t){e.preventDefault(),e.persist(),o||("name"===t&&f(Object(Xe.a)(Object(Xe.a)({},m),{},{name:e.target.value})),"email"===t&&f(Object(Xe.a)(Object(Xe.a)({},m),{},{email_id:e.target.value})))},g=function(t){(function(e){return v({method:"POST",url:"user/update",data:{name:e.name,email_id:e.email_id},headers:{access_token:e.access_token}})})({name:m.name,email_id:m.email_id,access_token:j}).then((function(t){e.saveuserDetails(t.data),alert("Successfully saved")}))};return Object(S.jsxs)("div",{className:"Settings__main-container",children:[Object(S.jsxs)("div",{className:"Settings__heading-container",children:[Object(S.jsx)("div",{onClick:function(e){return _(e)},className:o?"Settings__heading-left Settings__heading-left-selected":"Settings__heading-left",children:"Profile"}),Object(S.jsx)("div",{onClick:function(e){return _(e)},className:o?"Settings__heading-right":"Settings__heading-right Settings__heading-right-selected",children:"Edit Profile"})]}),Object(S.jsxs)("div",{className:"Settings__field-container",children:[Object(S.jsx)("label",{className:"Settings__label",children:"Name"}),Object(S.jsx)("input",{value:m.name,onChange:function(e){return p(e,"name")},className:"Settings__firstname",type:"text",placeholder:"Name",name:"firstName"})]}),Object(S.jsxs)("div",{className:"Settings__field-container",children:[Object(S.jsx)("label",{className:"Settings__label",children:"Email"}),Object(S.jsx)("input",{onChange:function(e){return p(e,"email")},value:m.email_id,type:"text",className:"Settings__firstname"})]}),o&&Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:"Settings__field-container",children:[Object(S.jsx)("label",{className:"Settings__label",children:"Phone"}),Object(S.jsx)("input",{readOnly:!0,value:m.phone_no,type:"text",className:"Settings__email"})]}),Object(S.jsxs)("div",{className:"Settings__field-container",children:[Object(S.jsx)("label",{className:"Settings__label",children:"Address"}),Object(S.jsx)("input",{onChange:function(e){return p(e,"email")},value:m.address||"",type:"text",className:"Settings__firstname"})]})]}),!o&&Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"Settings__field-container",children:Object(S.jsx)("input",{onClick:function(e){return g()},value:"Save",type:"submit",className:"Settings__submit"})})}),Object(S.jsx)("div",{children:a?Object(S.jsx)("a",{href:a,download:!0,children:Object(S.jsx)("img",{width:"350px",height:"350px",src:a,alt:"img"})}):null})]})}var mt,ft=s(140),_t=(s(491),["title","titleId"]);function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function gt(e,t){var s=e.title,a=e.titleId,c=pt(e,_t);return n.createElement("svg",vt({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-graph-up-arrow",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,mt||(mt=n.createElement("path",{fillRule:"evenodd",d:"M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"})))}var xt=n.forwardRef(gt),yt=(s.p,{type:"bar",data:{labels:["25th","26th","27th","28th","29th","30th"],datasets:[{label:"# of Votes",data:[22,23,23,25,21,28],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{min:16}},barThickness:30,barPercentage:.5,borderRadius:5}}),Nt={type:"bar",data:{labels:["cow","buffallo","Ghee"],datasets:[{label:"# of Votes",data:[122,99,23],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},options:{scales:{y:{min:19}},barThickness:50,barPercentage:.8,borderRadius:5}},wt={type:"doughnut",data:{labels:["agent 1","agent 2","agent 3","agent 4"],datasets:[{label:"Dataset 1",data:[5,23,10,6],backgroundColor:["red","orange","yellow","green"].map((function(e){return e}))}]},options:{cutout:"80%",responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Pie Chart"}}}};function St(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useRef)(null),r=Object(n.useRef)(null),l=Object(n.useRef)(null),o=function(e,t){s.data.datasets[e].data=t,s.update()};return Object(n.useEffect)((function(){c&&c.current&&new ft.a(c.current,wt)}),[c]),Object(n.useEffect)((function(){if(r&&r.current){var e=new ft.a(r.current,yt);a(e)}}),[r]),Object(n.useEffect)((function(){if(l&&l.current){var e=new ft.a(l.current,Nt);a(e)}}),[l]),Object(S.jsxs)("div",{className:"Statistics__main-container",children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(xt,{})," ","  "," Admin Panel"]}),Object(S.jsx)("div",{})]}),Object(S.jsx)("form",{className:"",noValidate:!0,children:Object(S.jsx)(O.a,{id:"date",label:"Date ",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{onClick:function(e){o(0,[15,39,13,5,2,38])},children:[Object(S.jsx)("br",{}),"Daily Milk Delivery Quantity (total delivered on this date)",Object(S.jsx)("canvas",{ref:r})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),"Per Agent Milk Delivery Quantity (total delivered by selected Agent today/any day selection from Calender drop down)"]}),Object(S.jsx)("div",{className:"Statistics__donough",children:Object(S.jsx)("canvas",{ref:c})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})," Daily Milk Delivery Quantity by Type last month (cow/buffallo / ghee)"]}),Object(S.jsx)("canvas",{ref:l})]})]})}var kt=s(600),Ct=s(601),At=s(602),Pt=s(592),Lt=s(283),Dt=s.n(Lt);function Ut(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useContext)(d).access_token,l=function(){var t=Object(et.a)(Ye.a.mark((function t(s){var n;return Ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=8;break}return t.next=3,o();case 3:return n={listDeliveries:{delivery_id:e.delivery_id,quantity:e.quantity,user_id:s,delivery_date:(new Date).toISOString()}},t.next=6,c(s);case 6:return t.next=8,Ge(n,r).then((function(t){alert("success"),e.clearCurrentUser()}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var e={lat:0,long:0};navigator.geolocation.getCurrentPosition((function(t){var s=t.coords;e.lat=s.latitude,e.long=s.longitude,console.log("Your current position is:"),console.log("Latitude : ".concat(s.latitude)),console.log("Longitude: ".concat(s.longitude)),console.log("More or less ".concat(s.accuracy," meters."))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),function(e,t){return v({method:"POST",url:"deliverytype/".concat(t.userid,"/updatedUserDeliveryDetails"),data:t.latlong,headers:{access_token:e}})}(e,r).then((function(e){console.log("user location updated")}))};return Object(S.jsx)(kt.a,{className:"conatiner",children:Object(S.jsxs)(Ct.a,{children:[Object(S.jsx)("h2",{className:"title",children:"Scan QR Code with DailyFreshMilk"}),Object(S.jsx)(At.a,{children:Object(S.jsx)(Pt.a,{container:!0,spacing:2,children:Object(S.jsxs)(Pt.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:[Object(S.jsx)("h3",{children:"Qr Code Scan by Camera"}),Object(S.jsx)(Dt.a,{delay:300,style:{width:"100%"},onError:function(e){console.log(e)},onScan:l}),Object(S.jsxs)("h3",{children:["User ID: ",a]})]})})})]})})}function Tt(e){var t=["booked","intransit","delivered","pickedup","red"],s=Object(n.useState)(null),a=Object(i.a)(s,2),c=a[0],r=a[1],l=function(){r(null)},o=function(e){var s=t[e];return s||"Not Available"},d=function(t){var s=e.deliveryTypes.find((function(e){return e.delivery_type===t}));return s&&s.name},u=function(e){return"true"===e?"Orders__green":"false"===e?"Orders__red":void 0};return Object(S.jsx)(S.Fragment,{children:c?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ze,{isVisible:c,clearCurrentUser:l}),Object(S.jsx)(Ut,{clearCurrentUser:l})]}):Object(S.jsx)("div",{className:"Orders__card-container",children:e.orders.map((function(e,t){return Object(S.jsxs)(h.a,{className:"Orders__order",elevation:2,children:[Object(S.jsxs)("div",{className:"Orders__date-address-row",children:[Object(S.jsx)("div",{className:"Orders__date",children:new Date(e.Product.modified_at).toLocaleString("en-GB")}),Object(S.jsx)("div",{className:"Orders__address",children:e.address})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsxs)("div",{className:"Orders__cust-id",children:[Object(S.jsx)("span",{children:Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(S.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",e.id]}),Object(S.jsx)("div",{onClick:function(t){return function(e,t,s){e.preventDefault(),r({delivery_id:t,quantity:s})}(t,e.delivery_id,e.Product.quantity)},className:"Orders__status "+(s=o(e.Product.delivery_status),"booked"===s?"Orders__blue":"delivered"===s?"Orders__green":"cancelled"===s?"Orders__red":"intransit"===s?"Orders__orange":"pickedup"===s?"Orders__yellow":"Orders__grey"),children:o(e.Product.delivery_status)})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(S.jsx)("div",{className:"cust-idnumber",children:e.UserDetail.name})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Customer Ph"}),Object(S.jsx)("div",{className:"cust-idnumber",children:e.UserDetail.phone_no})]}),Object(S.jsxs)("div",{className:"Orders__products-row",children:[Object(S.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(S.jsxs)("div",{className:"Orders__product",children:[e.Product.name," - ",e.Product.quantity]})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(S.jsxs)("div",{className:"cust-idnumber",children:[" ","\u20b9 ",e.Product.price,"/-"," "]})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(S.jsx)("div",{className:"cust-idnumber",children:d(e.Product.delivery_type)})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(S.jsx)("div",{onClick:function(t){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(t,e.lat,e.long)},className:"cust-idnumber Orders__status ",children:"Click Here - Maps"})]}),Object(S.jsxs)("div",{className:"Orders__customername",children:[Object(S.jsx)("div",{className:"Orders__cust-heading",children:"Ring Bell"}),Object(S.jsx)("div",{className:"Orders__status "+u(Boolean(e.ring_bell).toString()),children:Boolean(e.ring_bell).toString()})]})]},t);var s}))})})}s(274);function Et(){var e=Object(n.useContext)(d),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.userDetails,o=Object(n.useState)([]),u=Object(i.a)(o,2),j=u[0],b=u[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),m=O[0],f=O[1];return Object(n.useEffect)((function(){f(!0),function(e,t){return v({method:"GET",url:"agent/".concat(e,"/listDeliveries"),headers:{access_token:t}})}(l.user_id,r).then((function(e){c(e.data.data)})),Ve(r).then((function(e){b(e.data.data)})),setTimeout((function(){f(!1)}),1e3)}),[l.user_id,r]),Object(S.jsxs)("div",{className:"Deliveries__main-container",children:[Object(S.jsx)("div",{className:"Orders__main-heading",children:Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(H,{})," ","  "," Agent Deliveries"]})}),Object(S.jsx)("div",{children:m?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(S.jsx)(Tt,{agent:e.userDetails.name,deliveryTypes:j,orders:a})})]})}var zt=s.p+"static/media/cancel.c228d75b.svg",It=s.p+"static/media/pencil.0c835751.svg",Mt=s.p+"static/media/save.f8c222ed.svg";function qt(e){var t=Object(n.useState)(e.deliverytype),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],u=function(e,t){switch(e.preventDefault(),t){case 1:return c(Object(Xe.a)(Object(Xe.a)({},a),{},{name:e.target.value}));case 2:return c(Object(Xe.a)(Object(Xe.a)({},a),{},{description:e.target.value}));default:return}},j=function(t){t.preventDefault();var s,n,c,r={name:a.name,description:a.description};s=e.access_token,n=r,c=a.id,v({method:"POST",url:"deliverytype/".concat(c,"/updatedeliverytype"),headers:{access_token:s},data:n}),d(!1)};return Object(S.jsxs)(h.a,{className:"Deliveries__types-container",elevation:2,children:[o===a.id?Object(S.jsxs)("div",{children:[Object(S.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return u(e,1)},value:a.name}),Object(S.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return u(e,2)},value:a.description})]}):Object(S.jsxs)("div",{className:"Deliveries__types-container",children:[a.name," : ",a.description]}),Object(S.jsx)("div",{className:"Deliveries__types-container-img",children:o===a.id?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("img",{className:"Deliveries__types-svg",src:Mt,alt:"save",onClick:function(e){return j(e)}}),Object(S.jsx)("img",{className:"Deliveries__types-svg",src:zt,alt:"save",onClick:function(e){return d(!1)}})]}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("img",{className:"Deliveries__types-svg",onClick:function(e){return function(e,t){e.preventDefault(),d(t)}(e,a.id)},src:It,alt:"delete"})})})]})}function Rt(){var e=Object(n.useContext)(d),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(null),f=Object(i.a)(m,2),_=f[0],p=f[1];Object(n.useEffect)((function(){e.access_token&&Ve(e.access_token).then((function(e){c(e.data.data)})).catch((function(t){console.log(t),t&&t.response&&401===t.response.status&&e.refreshAccessToken()}))}),[e.access_token,e,o]);var g=function(t){if(t.preventDefault(),h&&_){var s={name:h,description:_};(function(e,t){return v({method:"POST",url:"deliverytype/adddeliverytype",data:t,headers:{access_token:e}})})(e.access_token,s).then((function(e){(e.status=200)&&u(!o),O(""),p("")}))}};return Object(S.jsxs)("div",{className:"Deliveries__main-container",children:[Object(S.jsxs)("div",{className:"Orders__main-heading",children:[Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(le,{})," ","  "," Delivery Types"]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e.preventDefault(),u(!o)}(e)},children:o?"Cancel Adding":"Add new Delivery Type"})})]}),o?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{className:"Login__input-focus-effect",placeholder:"name",type:"text",value:h,onChange:function(e){return O(e.target.value)}})}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("input",{className:"Login__input-focus-effect",placeholder:"description",type:"text",value:_,onChange:function(e){return p(e.target.value)}})}),Object(S.jsx)("div",{className:"Login__col-3",children:Object(S.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return g(e)},children:"Submit"})})]}):a.map((function(t,s){return Object(S.jsx)(qt,{access_token:e.access_token,deliverytype:t},s)}))]})}var Ft=s(587),Ht=s(597),Bt=s(585),Vt=s(84),Gt=s(596),Wt=(s(496),s(582)),Jt=s(290),Qt=s.p+"static/media/unchecked.3fb05906.svg",Kt=s.p+"static/media/checked.4f7f3053.svg",Zt=Object(S.jsx)("img",{src:Qt,alt:"dsd",fontSize:"small"}),$t=Object(S.jsx)("img",{src:Kt,alt:"dsds",fontSize:"small"});function Yt(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken,o=e.handlePData;return Object(n.useEffect)((function(){Be(null,r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(S.jsx)("div",{className:"AssignUsers__main",children:Object(S.jsx)(Wt.a,{id:"checkboxes-tags-demo",onChange:function(e,t){return o(e,t)},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(S.jsxs)("li",Object(Xe.a)(Object(Xe.a)({},e),{},{children:[Object(S.jsx)(Jt.a,{icon:Zt,checkedIcon:$t,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(S.jsx)(O.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Select Products",placeholder:"products"}))}})})}var Xt=Object(S.jsx)("img",{src:Qt,alt:"dsd",fontSize:"small"}),es=Object(S.jsx)("img",{src:Kt,alt:"dsds",fontSize:"small"});function ts(e){var t=e.access_token,s=e.refreshAccessToken,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){p(3,t).then((function(e){l(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&s()}))}),[t,s]),Object(S.jsx)("div",{className:"AssignUsers__main",children:Object(S.jsx)(Wt.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s.user_id,"user")},options:r,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(S.jsxs)("li",Object(Xe.a)(Object(Xe.a)({},e),{},{children:[Object(S.jsx)(Jt.a,{icon:Xt,checkedIcon:es,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(S.jsx)(O.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Select Users",placeholder:"Users"}))}})})}var ss=Object(S.jsx)("img",{src:Qt,alt:"dsd",fontSize:"small"}),ns=Object(S.jsx)("img",{src:Kt,alt:"dsds",fontSize:"small"});function as(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken;return Object(n.useEffect)((function(){p(2,r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(S.jsx)("div",{className:"AssignUsers__main",children:Object(S.jsx)(Wt.a,{onChange:function(t,s){return e.handleData(t,s.user_id,"agent")},id:"checkboxes-tags-demo",options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(S.jsxs)("li",Object(Xe.a)(Object(Xe.a)({},e),{},{children:[Object(S.jsx)(Jt.a,{icon:ss,checkedIcon:ns,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(S.jsx)(O.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Select Agents",placeholder:"Agents"}))}})})}var cs=Object(S.jsx)("img",{src:Qt,alt:"dsd",fontSize:"small"}),rs=Object(S.jsx)("img",{src:Kt,alt:"dsds",fontSize:"small"});function is(e){var t=Array(100).fill().map((function(e,t){return t+1}));return Object(S.jsx)("div",{className:"AssignUsers__main",children:Object(S.jsx)(Wt.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s,"quantity")},options:t,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,s){var n=s.selected;return Object(S.jsxs)("li",Object(Xe.a)(Object(Xe.a)({},e),{},{children:[Object(S.jsx)(Jt.a,{icon:cs,checkedIcon:rs,style:{marginRight:8},checked:n}),t]}))},renderInput:function(e){return Object(S.jsx)(O.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Select quantity",placeholder:"quantity"}))}})})}var ls=Object(S.jsx)("img",{src:Qt,alt:"dsd",fontSize:"small"}),os=Object(S.jsx)("img",{src:Kt,alt:"dsds",fontSize:"small"});function ds(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken;return Object(n.useEffect)((function(){Ve(r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(S.jsx)("div",{className:"AssignUsers__main",children:Object(S.jsx)(Wt.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s.delivery_type,"delivery_type")},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(S.jsxs)("li",Object(Xe.a)(Object(Xe.a)({},e),{},{children:[Object(S.jsx)(Jt.a,{icon:ls,checkedIcon:os,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(S.jsx)(O.a,Object(Xe.a)(Object(Xe.a)({},e),{},{label:"Select deliver type",placeholder:"delivery_type"}))}})})}function us(){var e=Object(n.useContext)(d),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)({agent_id:"",user_id:"",quantity:"",delivery_type:"",product_type:"",price:""}),b=Object(i.a)(j,2),O=b[0],m=b[1],f=["Select Agent","Select User","Select Product","Select Quantity","Select Delivery type"],_=function(t){t.preventDefault(),c(!0);var s,n,a={agent_id:O.agent_id,assignlist:[{user_id:O.user_id,quantity:O.quantity,delivery_type:O.delivery_type,product_type:O.product_type,price:O.price}]};(s=e.access_token,n=a,v({method:"POST",url:"/agentuser/assignUser",headers:{access_token:s},data:n})).then((function(e){m({agent_id:"",user_id:"",quantity:"",delivery_type:"",product_type:"",price:""}),u(0),c(!1),alert("successfully saved")})).catch((function(e){c(!1),alert("Please try again")}))};var p=function(e,t,s){e&&e.preventDefault(),"agent"===s&&m(Object(Xe.a)(Object(Xe.a)({},O),{},{agent_id:t})),"user"===s&&m(Object(Xe.a)(Object(Xe.a)({},O),{},{user_id:t})),"delivery_type"===s&&m(Object(Xe.a)(Object(Xe.a)({},O),{},{delivery_type:t})),"quantity"===s&&m(Object(Xe.a)(Object(Xe.a)({},O),{},{quantity:t}))},g=function(e,t){e.preventDefault(),m(Object(Xe.a)(Object(Xe.a)({},O),{},{price:t.price,product_type:t.product_type}))};return Object(S.jsxs)("div",{className:"AssignUsers__main",children:[Object(S.jsx)("div",{className:"Orders__main-heading",children:Object(S.jsxs)("div",{className:"General-main-heading",children:[Object(S.jsx)(te,{})," ","  "," Assign Users to Agents"]})}),a?Object(S.jsxs)(S.Fragment,{children:[" ",Object(S.jsx)(Fe,{}),Object(S.jsx)(He.a,{animation:"wave",height:100,width:"80%"}),Object(S.jsx)(He.a,{variant:"rectangular",animation:"wave",width:210,height:118})," "]}):Object(S.jsxs)(h.a,{className:"AssignUsers__sub",elevation:2,children:[Object(S.jsx)(Ft.a,{alternativeLabel:!0,activeStep:o,children:f.map((function(e,t){return Object(n.createElement)(Ht.a,Object(Xe.a)(Object(Xe.a)({},{}),{},{key:t}),Object(S.jsx)(Bt.a,Object(Xe.a)(Object(Xe.a)({},{}),{},{children:e})))}))}),o===f.length?Object(S.jsx)(Gt.a,{variant:"h4",align:"center",children:"Agent Assigned to User Successfully"}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("form",{children:function(t){switch(t){case 0:return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(as,{access_token:e.access_token,refreshAccessToken:e.refreshAccessToken,handleData:p})});case 1:return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(ts,{handleData:p,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 2:return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(Yt,{handlePData:g,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 3:return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(is,{handleData:p,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 4:return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(ds,{handleData:p,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});default:return"unknown step"}}(o)}),Object(S.jsx)(Vt.a,{disabled:0===o,onClick:function(){u(o-1)},children:"Back"}),Object(S.jsx)(Vt.a,{className:"",variant:"contained",color:"primary",onClick:function(e){return o===f.length-1?_(e):void u(o+1)},children:o===f.length-1?"Submit":"Next"})]})]})]})}function js(){var e=Object(n.useContext)(d),t=Object(n.useState)("Welcome"),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(e){c(e)};return Object(S.jsx)("div",{children:e.isLoggedIn?Object(S.jsxs)("div",{children:[Object(S.jsx)(ge,{currentMenuSelection:r}),Object(S.jsx)("div",{className:"AgentDashboard__main-container",children:e.isAdmin?function(){switch(a){case"orders_list":return Object(S.jsx)(Qe,{});case"agents_list":return Object(S.jsx)(jt,{});case"users_list":return Object(S.jsx)(rt,{});case"products_list":return Object(S.jsx)(ot,{});case"assign_users":return Object(S.jsx)(us,{});case"deliveries":return Object(S.jsx)(Et,{});case"delivery_type":return Object(S.jsx)(Rt,{});case"settings":return Object(S.jsx)(Ot,{});case"1":case"2":return Object(S.jsx)(Qe,{});case"3":return Object(S.jsx)(Ot,{});default:return Object(S.jsx)(St,{})}}():function(){switch(a){case"settings":return Object(S.jsx)(Ot,{});case"deliveries":case"1":case"2":return Object(S.jsx)(Et,{});case"3":return Object(S.jsx)(Ot,{});default:return Object(S.jsx)(Et,{})}}()}),Object(S.jsx)(De,{currentMenuSelection:r})]}):Object(S.jsx)(o.a,{to:"/login"})})}var bs=function(){var e=Object(n.useContext)(d);return Object(S.jsx)("div",{children:!0===e.isLoggedIn?Object(S.jsx)(o.a,{to:"/dashboard"}):Object(S.jsx)(o.a,{to:"/login"})})};function hs(){var e=JSON.parse(localStorage.getItem("loggedIn")),t=JSON.parse(localStorage.getItem("isAdmin")),s=sessionStorage.getItem("access_token"),a=localStorage.getItem("refresh_token"),c=JSON.parse(localStorage.getItem("userDetails")),r=Object(n.useState)(c||{}),u=Object(i.a)(r,2),j=u[0],b=u[1],h=Object(n.useState)(e||!1),O=Object(i.a)(h,2),m=O[0],f=O[1],_=Object(n.useState)(t||!1),p=Object(i.a)(_,2),g=p[0],x=p[1],y=Object(n.useState)(s||null),N=Object(i.a)(y,2),w=N[0],k=N[1],A=Object(n.useState)(a||null),P=Object(i.a)(A,2),L=P[0],D=P[1];Object(n.useEffect)((function(){if(!w)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("loggedIn",Boolean(m))}),[m,w]),Object(n.useEffect)((function(){if(!w)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("isAdmin",Boolean(g))}),[g,w]),Object(n.useEffect)((function(){localStorage.setItem("userDetails",JSON.stringify(j))}),[j]),Object(n.useEffect)((function(){sessionStorage.setItem("access_token",w)}),[w]),Object(n.useEffect)((function(){localStorage.setItem("refresh_token",L)}),[L]);var U={isLoggedIn:m,access_token:w,refresh_token:L,isAdmin:g,userDetails:j,refreshAccessToken:function(){var e;(e=L,v({method:"POST",url:"oauth/token",headers:{grant_type:"refresh",refresh_token:e}})).then((function(e){k(e.data.access_token)}))},setIsLoggedIn:f,setAccessToken:k,setIsAdmin:x,setRefreshToken:D,saveuserDetails:function(e){b(e)}};return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(l.a,{children:Object(S.jsx)(o.d,{children:Object(S.jsxs)(d.Provider,{value:U,children:[Object(S.jsx)(o.b,{exact:!0,path:"/",component:bs}),Object(S.jsx)(o.b,{exact:!0,path:"/login",component:C}),Object(S.jsx)(o.b,{exact:!0,path:"/dashboard",component:js}),Object(S.jsx)(o.b,{exact:!0,path:"*",component:bs})]})})})})}var Os=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,603)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(hs,{})}),document.getElementById("root")),Os()}},[[497,1,2]]]);
//# sourceMappingURL=main.d531bd2f.chunk.js.map