(this.webpackJsonpdailymilkfresh=this.webpackJsonpdailymilkfresh||[]).push([[0],{185:function(e,t,s){},271:function(e,t,s){},273:function(e,t,s){},278:function(e,t,s){},279:function(e,t,s){},280:function(e,t,s){},326:function(e,t,s){},327:function(e,t,s){},332:function(e,t){},334:function(e,t){},349:function(e,t){},351:function(e,t){},379:function(e,t){},381:function(e,t){},382:function(e,t){},387:function(e,t){},389:function(e,t){},395:function(e,t){},397:function(e,t){},416:function(e,t){},428:function(e,t){},431:function(e,t){},470:function(e,t,s){},494:function(e,t,s){},495:function(e,t,s){},500:function(e,t,s){},501:function(e,t,s){},502:function(e,t,s){},503:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(75),r=s.n(c),i=(s(326),s(4)),l=(s(327),s(60)),o=s(25),d=s(1);function u(){return JSON.parse(localStorage.getItem("loggedIn"))?Object(d.jsx)(o.b,{}):Object(d.jsx)(o.a,{to:"/login"})}var j=a.a.createContext(),b=s(580),h=s(72),O=s.n(h),m=s(298),f=s(124),p=s(283),v=s.n(p),_=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOSTNAME||"https://dailyorganicfresh.dailyfresh.farm",g=v.a.create({baseURL:_,timeout:1e4}),x=function(e,t){return g({method:"POST",url:"/user/listUsers",data:{type_of_user:e},headers:{access_token:t}})},y=function(e){return g({method:"POST",url:"/user/register/",data:e.user,headers:{access_token:e.access_token}})},N=function(e){return g({method:"GET",url:"/user/".concat(e.verify_code,"/verify/").concat(e.otp)})},w=s.p+"static/media/eye_close.73573ab2.svg",S=s.p+"static/media/eye_open.e5325192.svg",k=(s(271),s.p+"static/media/logo.9631ecf8.png");function C(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),h=b[0],m=b[1],f=function(t){var s;t.preventDefault(),e.setClickOnce(!0),(s=e.username,g({method:"POST",url:"user/forgot",data:{phone_no:s}})).then((function(t){m(t.data.code),e.setClickOnce(!1)})).catch((function(t){e.setapiresponse(t.response.message),e.setClickOnce(!1)}))},p=function(t){t.preventDefault();var s=O.a.sign({data:o,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51");(function(e){return g({method:"POST",url:"user/".concat(e.code,"/password"),data:{pin:1234,npassword:e.newpassword}})})({code:h,otp:a,newpassword:s}).then((function(t){e.setapiresponse(t.data.message),setTimeout((function(){e.setResetPassword(!1),e.setapiresponse(null)}),3e3)})).catch((function(t){e.setapiresponse(t.response.data.message)}))};return Object(d.jsxs)("form",{className:"Login__sub-container",children:[Object(d.jsx)("div",{className:"Login__login-header",children:"Forgot Password"}),e.apiresponsemessage?Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("span",{className:"Login__success-password",children:e.apiresponsemessage})}):null,h?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"New Password",onChange:function(e){return u(e.target.value)},value:o}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Enter OTP",onChange:function(e){return c(e.target.value)},value:a}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){return p(e)},disabled:o.length<3||a.length<3||e.clickedonce,type:"submit",value:"Change Password",className:o.length<3||a.length<3||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Phone Number",onChange:function(t){return e.setUsername(t.target.value)},value:e.username}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){return f(e)},type:"submit",value:"Request OTP",disabled:10!==e.username.length||e.clickedonce,className:10!==e.username.length||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]})]})}function A(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),l=r[0],u=r[1],h=Object(n.useState)(!1),p=Object(i.a)(h,2),v=p[0],_=p[1],x=Object(n.useState)(""),y=Object(i.a)(x,2),N=y[0],A=y[1],L=Object(n.useState)(""),D=Object(i.a)(L,2),P=D[0],U=D[1],T=Object(n.useState)(null),E=Object(i.a)(T,2),I=E[0],z=E[1],M=Object(o.h)(),q=Object(n.useContext)(j),F=function(){u(!l)};function R(){return N.length>3&&P.length>3}var H=function(e){(function(e){return g({method:"POST",url:"oauth/token",headers:{grant_type:"code",code:e}})})(e).then((function(e){B(e.data.access_token,e.data.refresh_token)})).catch((function(e){z(e.response.data.message),console.log("error in request",e)}))},B=function(e,t){(function(e){return g({method:"GET",url:"user/details",headers:{access_token:e}})})(e).then((function(s){return 1===s.data.data.user_type?(q.setIsLoggedIn(!0),q.setAccessToken(e),q.setIsAdmin(!0),q.setRefreshToken(t),q.saveuserDetails(s.data.data),M("/")):2===s.data.data.user_type?(q.setIsLoggedIn(!0),q.setAccessToken(e),q.setIsAdmin(!1),q.setRefreshToken(t),q.saveuserDetails(s.data.data),M("/")):void z("Un Authorized User")}))};return Object(d.jsx)("div",{className:"Login__main-container",children:Object(d.jsxs)(m.a,{className:"Login__paper",elevation:2,children:[Object(d.jsx)("img",{className:"Login__logo-image",src:k,alt:"this is logo"}),s?Object(d.jsx)(C,{username:N,setUsername:A,setResetPassword:a,apiresponsemessage:I,setapiresponse:z,clickedonce:v,setClickOnce:_}):Object(d.jsxs)("form",{className:"Login__sub-container",children:[Object(d.jsx)("div",{className:"Login__login-header",children:" Sign in - Admin Panel "}),I?Object(d.jsx)("div",{className:"Login__wrong-password",children:I}):null,Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)(f.a,{error:Boolean(I),id:"username",label:"Phone Number",fullWidth:!0,size:"small",value:N,onChange:function(e){return A(e.target.value)}})}),Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)(f.a,{type:l?"text":"password",error:Boolean(I),id:"password",label:"Password",fullWidth:!0,size:"small",value:P,onChange:function(e){return U(e.target.value)}}),l?Object(d.jsx)("span",{onClick:F,className:"Login__show-password",children:Object(d.jsx)("img",{className:"",src:w,alt:"closeeye"})}):Object(d.jsx)("span",{onClick:F,className:"Login__show-password",children:Object(d.jsx)("img",{className:"",src:S,alt:"closeeye"})})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){e.preventDefault(),_(!0);var t=O.a.sign({data:P,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),s={phone_no:N,password:t,app_token:Object(b.a)()};q.setIsLoggedIn(!1),q.setAccessToken(null),q.setIsAdmin(!1),q.setRefreshToken(null),function(e){return g({method:"POST",url:"user/login",data:e})}(s).then((function(e){H(e.data.code),_(!1)})).catch((function(e){z(e&&e.response&&e.response.data.message),_(!1),console.log("error in request",e)}))},disabled:!R()||v,type:"submit",value:"Log In",className:R()?"Login__submit":"Login__submit Login__submit-disabled"})}),Object(d.jsx)("div",{className:"Login__signup",onClick:function(e){return function(e){e.preventDefault(),a(!0),z(null)}(e)},children:Object(d.jsx)("span",{className:"Login__forgot",children:" Forgot your password ? "})})]})]})})}var L=s(12);function D(e){return Object(d.jsx)("div",{className:"Orders__card-container",children:e.orders.map((function(t,s){return Object(d.jsxs)(m.a,{className:"Orders__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Orders__date-address-row",children:[Object(d.jsx)("div",{className:"Orders__date",children:t.modified_at}),Object(d.jsx)("div",{className:"Orders__address",children:t.address})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsxs)("div",{className:"Orders__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",t.id]}),Object(d.jsx)("div",{onClick:function(s){return function(t,s){t.preventDefault(),e.currentUserSelection(s)}(s,t.delivery_id)},className:"Orders__status "+(n=t.delivery_status.toString(),"booked"===n?"Orders__blue":"delivered"===n?"Orders__green":"cancelled"===n?"Orders__red":"intransit"===n?"Orders__orange":"pickedup"===n?"Orders__yellow":"Orders__grey"),children:t.delivery_status})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.user_name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Agent"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.agent_name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.delivery_type})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(d.jsx)("div",{onClick:function(e){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(e,t.lat,t.lng)},className:"cust-idnumber Orders__status ",children:"Click Here - Maps"})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(d.jsxs)("div",{className:"cust-idnumber",children:["\u20b9 ",t.price,"/-"]})]}),Object(d.jsxs)("div",{className:"Orders__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(d.jsxs)("div",{className:"Orders__product",children:[t.product," - ",t.quantity]})]})]},s);var n}))})}function P(e){return Object(d.jsxs)("div",{children:["Cancel order Delivery id: ",e.order,Object(d.jsx)(f.a,{id:"frdate",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}}),Object(d.jsx)(f.a,{id:"todate",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),onChange:function(e){console.log(e.target.value)},InputLabelProps:{shrink:!0}})]})}var U,T;s(470);function E(e){return Object(d.jsx)("div",{className:"MiniNavbar__main",children:e.isVisible?Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.clearCurrentUser()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})})," ",Object(d.jsx)("span",{children:" \xa0 Back"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByName()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(d.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]})," ",Object(d.jsx)("span",{children:"Name"})]}),Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByLocation()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(d.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(d.jsx)("span",{children:"Location"})]}),Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByNumber()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"}),Object(d.jsx)("path",{fillRule:"evenodd",d:"M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"}),Object(d.jsx)("path",{d:"M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(d.jsx)("span",{children:"User Id"})]})]})})}var I=["title","titleId"];function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},z.apply(this,arguments)}function M(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function q(e,t){var s=e.title,a=e.titleId,c=M(e,I);return n.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-bag-check",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,U||(U=n.createElement("path",{fillRule:"evenodd",d:"M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"})),T||(T=n.createElement("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"})))}var F=n.forwardRef(q),R=(s.p,s(577)),H=s(574),B=s(582),V=s(519);function G(e){return Object(d.jsx)("div",{children:Object(d.jsx)(B.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(d.jsx)(V.a,{color:"inherit"})})})}var J=s(584),Q=function(e,t){return g({method:"POST",url:"product/get",data:{availability:e},headers:{access_token:t}})},W=function(e){return g({method:"GET",url:"deliverytype/listdeliverytypes",headers:{access_token:e}})},K=function(e,t){return g({method:"POST",url:"/agent/delivery",headers:{access_token:t},data:e})},Z=s(123);function $(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){console.info(a,"export_page number")}),[a]),Object(d.jsx)("div",{style:{height:600,width:"100%"},children:Object(d.jsx)(Z.a,{nodeRef:r,rows:e.orders,columns:[{field:"id",headerName:"ID",width:90},{field:"user_name",headerName:"Customer name",width:200,editable:!0},{field:"agent_name",headerName:"Agent name",width:200,editable:!0},{field:"product",headerName:"Product Type",width:140,editable:!0},{field:"delivery_type",headerName:"Delivery Type",description:"Delivery Type.",width:120},{field:"delivery_status",headerName:"Delivery Status",description:"Delivery Status.",width:160},{field:"quantity",headerName:"Quantity",description:"Delivery Type.",width:100},{field:"price",headerName:"Price",description:"Price.",width:100},{field:"modified_at",headerName:"Modified",description:"Delivery Type.",width:200}],pageSize:5,rowsPerPageOptions:[5],onSelectionModelChange:function(e){c(e.selectionModel)},disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(d.jsx)(Z.b,{className:Z.d.toolbarContainer,children:Object(d.jsx)(Z.c,{})})}}})})}s(273);function Y(){var e=Object(n.useContext)(j),t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(1),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)([]),p=Object(i.a)(f,2),v=p[0],_=p[1],y=Object(n.useState)([]),N=Object(i.a)(y,2),w=N[0],S=N[1],k=Object(n.useState)([]),C=Object(i.a)(k,2),A=C[0],U=C[1],T=Object(n.useState)([]),I=Object(i.a)(T,2),z=I[0],M=I[1],q=Object(n.useState)(!1),B=Object(i.a)(q,2),V=B[0],K=B[1],Z=Object(n.useState)([]),Y=Object(i.a)(Z,2),X=Y[0],ee=Y[1],te=Object(n.useState)([]),se=Object(i.a)(te,2),ne=se[0],ae=se[1],ce=e.access_token,re=e.refreshAccessToken;Object(n.useEffect)((function(){K(!0),x(null,ce).then((function(e){M(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&re()})),W(ce).then((function(e){ae(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&re()})),Q(null,ce).then((function(e){ee(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&re()})),function(e,t){return g({method:"POST",url:"/agentuser/listAgentUsers",headers:{access_token:e},data:t})}(ce).then((function(e){_(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&re()})),setTimeout((function(){K(!1)}),2e3)}),[ce,re]);var ie=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),m(t);var s=w.slice(6*(t-1),6*t);U(s)}),[w]),le=Object(n.useCallback)((function(){var e=["booked","intransit","delivered","pickedup","red"],t=function(t){var s=e[t];return s||"Not Available"},s=function(e){var t=v.find((function(t){return t.QRNumber===e}));return t?t.date:new Date(Date.now()).toLocaleString()},n=function(e){var t=z.find((function(t){return t.user_id===e}));return null===t||void 0===t?void 0:t.name},a=function(e){var t=ne.find((function(t){return t.delivery_type===e}));return t&&t.name},c=function(e){var t=X.find((function(t){return t.product_type===e}));return t&&t.name};S([]),v.forEach((function(e){var r={user_id:e.user_id,delivery_id:e.delivery_id,user_name:n(e.user_id),agent_name:n(e.agent_id),delivery_type:a(e.delivery_type),product:c(e.product_type),delivery_status:t(e.delivery_status),quantity:e.quantity,price:e.price,lat:e.lat,lng:e.long,id:e.id,modified_at:s(e.modified_at)};S((function(e){return[].concat(Object(L.a)(e),[r])}))}))}),[v,ne,X,z]);return Object(n.useEffect)((function(){ie(null,1)}),[w,ie]),Object(n.useEffect)((function(){le()}),[v,le]),Object(d.jsx)("div",{className:"main-container",children:V?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(F,{})," ","  "," My Orders"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return u(!o)},children:o?"Back to Orders":"Export current data"})})]}),o?Object(d.jsx)($,{users:z,deliveryTypes:ne,products:X,orders:w}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(E,{isVisible:a,clearCurrentUser:function(){c(null)},sortByName:function(){},sortByNumber:function(e){},sortByLocation:function(e){}}),a?Object(d.jsx)(P,{order:a}):Object(d.jsxs)("div",{children:[Object(d.jsx)(D,{currentUserSelection:function(e){c(e)},orders:A}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(H.a,{spacing:2,children:Object(d.jsx)(R.a,{onChange:function(e,t){return ie(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:v.length%6===0?v.length/6:Math.floor(v.length/6)+1,page:O})})})]})]})]})})}var X=s.p+"static/media/singlePerson.5b613f1e.svg";function ee(e){var t=Object(o.h)();return Object(d.jsx)("div",{className:"Users__card-container",children:e.users.map((function(e,s){return Object(d.jsxs)(m.a,{onClick:function(s){return function(e,s){e.preventDefault(),t("/users/".concat(s))}(s,e.user_id)},className:"Users__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Users__customername",children:[Object(d.jsxs)("div",{className:"Users__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("img",{src:X,alt:"user"})}),"\xa0 User Type"]}),Object(d.jsx)("div",{className:"Users__status ",children:"User"})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__cust-heading",children:"Customer Name"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.name})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Phone"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.phone_no})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__product-id",children:"Email"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.email_id})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Address"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.address})]}),Object(d.jsxs)("div",{className:"Users__date-address-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Joined Date"}),Object(d.jsx)("div",{className:"Users__right-column",children:new Date(e.created_at).toLocaleString()})]})]},s)}))})}var te=s(13),se=s(32),ne=s(16),ae=s.n(ne),ce=s(103),re=s(583),ie=s(79);function le(e){return Object(d.jsx)("div",{children:Object(d.jsx)(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:2e3,message:e.message,action:Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ie.a,{size:"small","aria-label":"close",color:"inherit",children:"x"})})})})}var oe;s(185);function de(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"3",app_token:Object(b.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),h=Object(i.a)(j,2),m=h[0],f=h[1],p=function(){var e=Object(se.a)(ae.a.mark((function e(t){var s,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=O.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(te.a)({},n));case 5:if(!g.length){e.next=7;break}return e.abrupt("return");case 7:w();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(ce.a)(),_=v.register,g=v.formState.errors,x=v.handleSubmit,w=function(){var t={user:a,access_token:e.access_token};y(t).then((function(e){u(e.data.code)})).catch((function(e){console.log("Failed",e.response),f("Failed")}))},S=function(t){var s={verify_code:o,otp:t.otp};N(s).then((function(t){f("successfully saved"),setTimeout((function(){e.addUserClicked()}),2e3)})).catch((function(e){f("Failed to saved"),console.log(e.response)}))};return Object(d.jsxs)("div",{className:"Users__sub-container",children:[o?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:x((function(e){g.length||S(e)})),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},_("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:x(p),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[g.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},_("name",{required:!0,min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.email_id&&Object(d.jsx)("span",{className:"Users__errors",children:g.email_id.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},_("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.phone_no&&Object(d.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},_("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.address&&Object(d.jsx)("span",{className:"Users__errors",children:g.address.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},_("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.password&&Object(d.jsx)("span",{className:"Users__errors",children:g.password.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},_("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{disabled:o,className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),m&&Object(d.jsx)(le,{message:m})]})}var ue=["title","titleId"];function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},je.apply(this,arguments)}function be(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function he(e,t){var s=e.title,a=e.titleId,c=be(e,ue);return n.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,oe||(oe=n.createElement("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})))}var Oe=n.forwardRef(he);s.p;function me(){var e=Object(n.useContext)(j),t=Object(n.useState)(!0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)(1),p=Object(i.a)(f,2),v=p[0],_=p[1],g=Object(n.useState)([]),y=Object(i.a)(g,2),N=y[0],w=y[1],S=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),_(t);var s=o.slice(6*(t-1),6*t);return w(s)}),[o]);Object(n.useEffect)((function(){x(3,e.access_token).then((function(e){c(!1),u(e.data.data)})).catch((function(t){t&&t.response&&401===t.response.status&&(c(!0),e.refreshAccessToken())}))}),[e.access_token,O,e]),Object(n.useEffect)((function(){S(null,1)}),[o,S]);var k=function(e){e&&e.preventDefault(),m(!O)};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Oe,{})," ","  "," Users"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return k(e)},children:O?"Cancel Adding":"Add new User"})})]}),a?Object(d.jsxs)("div",{className:"Users__spinners",children:[Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)("div",{children:O?Object(d.jsx)(de,{addUserClicked:k,access_token:e.access_token}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ee,{users:N}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(H.a,{spacing:2,children:Object(d.jsx)(R.a,{onChange:function(e,t){return S(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:o.length%6===0?o.length/6:Math.floor(o.length/6)+1,page:v})})})]})})]})}var fe=s(142),pe=s.n(fe);function ve(){var e=Object(n.useContext)(j).access_token,t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1];Object(n.useEffect)((function(){var t=window.location.pathname.split("/")[2],s={customer_user_id:[t],from:new Date(Date.now()-864e5),to:(new Date).toISOString()};t&&function(e,t){g({method:"POST",url:"/history/getHistory",headers:{access_token:e},data:t})}(e,s);var n=function(){var e=Object(se.a)(ae.a.mark((function e(){var s,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={errorCorrectionLevel:"H",type:"image/jpeg",quality:1,margin:1,color:{dark:"#000",light:"#FFF"}},e.next=4,pe.a.toDataURL(t,s);case 4:n=e.sent,c(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();n()}));return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)(m.a,{className:"Users__top",children:["Show QR code with Name",Object(d.jsx)(f.a,{id:"date",label:"Date",type:"date",onChange:function(e,t){return function(e){e.preventDefault();var t=(new Date).toISOString();console.log(t)}(e)},defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})]}),Object(d.jsx)(m.a,{className:"AssignUsers__sub",elevation:2,children:a?Object(d.jsx)("a",{href:a,download:!0,children:Object(d.jsx)("img",{width:"350px",height:"350px",src:a,alt:"img"})}):null})]})}function _e(e){var t,s=Object(n.useState)(e.products),a=Object(i.a)(s,2),c=a[0],r=a[1],l=function(t){var s=0===c.availability?1:0;t.preventDefault(),r(Object(te.a)(Object(te.a)({},c),{},{availability:s}));var n={availability:s.toString()};!function(e,t,s){g({method:"POST",url:"/product/".concat(t,"/update"),data:s,headers:{access_token:e}})}(e.access_token,c.id,n)};return Object(d.jsx)("div",{className:"Products__card-box",children:Object(d.jsxs)(m.a,{className:"Products__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Products__customername",children:[Object(d.jsx)("div",{className:"Products__cust-id",children:"In Stock "}),Object(d.jsx)("div",{onClick:function(e){return l(e)},className:"Products__status "+(t=c.availability,1===t?"Orders__blue":0===t?"Orders__yellow":"Orders__grey"),children:1===c.availability?"Available":"Not available"})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__cust-heading",children:"Name"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.name})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__date",children:"Description"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.description})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__product-id",children:"Price"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.price})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__date",children:"Product Type"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.product_type})]})]})})}var ge,xe;s(278);function ye(e){var t=Object(n.useState)({name:"",description:"",price:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(){var e=Object(se.a)(ae.a.mark((function e(t){var s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object.assign(a,t),c(Object(te.a)({},s)),!u.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,b();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(ce.a)(),o=l.register,u=l.formState.errors,j=l.handleSubmit,b=function(){(function(e){return g({method:"POST",url:"product/add",data:e.product,headers:{access_token:e.access_token}})})({product:a,access_token:e.access_token}).then((function(t){alert("success"),setTimeout((function(){e.toggleAddProduct(!1)}),2e3)})).catch((function(e){console.log("Failed",e.response),alert("Failed")}))};return Object(d.jsx)("div",{className:"Products__sub-container",children:Object(d.jsxs)("form",{onSubmit:j(r),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[u.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 3 characters"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},o("name",{required:"required",minLength:{value:3,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[u.price&&Object(d.jsx)("div",{className:"Users__errors",children:"This field is required"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",placeholder:"Price",type:"number"},o("price",{required:"required",min:1}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[u.description&&Object(d.jsx)("div",{className:"Users__errors",children:'Please enter a valid description min 8 char"'}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"description",placeholder:"Description"},o("description",{required:"required",min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:u.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New Product"})})]})})}var Ne=["title","titleId"];function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},we.apply(this,arguments)}function Se(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ke(e,t){var s=e.title,a=e.titleId,c=Se(e,Ne);return n.createElement("svg",we({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-card-checklist",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,ge||(ge=n.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"})),xe||(xe=n.createElement("path",{d:"M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"})))}var Ce=n.forwardRef(ke);s.p;function Ae(){var e=Object(n.useContext)(j),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)(1),p=Object(i.a)(f,1)[0];Object(n.useEffect)((function(){c(!0),Q(null,e.access_token).then((function(e){u(e.data.data),setTimeout((function(){c(!1)}),1e3)})).catch((function(t){var s,n=null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.status;n&401===n&&(e.refreshAccessToken(),c(!1))}))}),[e.access_token,e,O]);return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Ce,{})," ","  "," Products"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e&&e.preventDefault(),m(!O)}(e)},children:O?"Cancel Adding":"Add new Product"})})]}),a?Object(d.jsxs)("div",{className:"Products__spinners",children:[Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"Products__card-container",children:O?Object(d.jsx)(ye,{toggleAddProduct:m,access_token:e.access_token}):Object(d.jsx)(d.Fragment,{children:o.map((function(t,s){return Object(d.jsx)(_e,{access_token:e.access_token,products:t},s)}))})}),Object(d.jsx)("div",{className:O?"Orders__pagination Orders__pagination-none":"Orders__pagination",children:Object(d.jsx)(H.a,{spacing:2,children:Object(d.jsx)(R.a,{variant:"outlined",color:"primary",boundaryCount:2,count:o.length%2===0?o.length/2:Math.floor(o.length/2)+1,page:p})})})]})]})}function Le(e){return Object(d.jsx)("div",{className:"Agents__card-container",children:e.agents.map((function(e,t){return Object(d.jsxs)(m.a,{className:"Agents__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Agents__customername",children:[Object(d.jsxs)("div",{className:"Agents__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 User Type"]}),Object(d.jsx)("div",{className:"Agents__status ",children:"Agent"})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__cust-heading",children:"Agent Name"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.name})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Phone"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.phone_no})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__product-id",children:"Email"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.email_id})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Address"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.address})]}),Object(d.jsxs)("div",{className:"Agents__date-address-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Joined Date"}),Object(d.jsx)("div",{className:"Agents__right-column",children:new Date(e.created_at).toLocaleString()})]})]},t)}))})}var De,Pe;s(279);function Ue(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"2",app_token:Object(b.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),h=Object(i.a)(j,2),m=h[0],f=h[1],p=function(){var e=Object(se.a)(ae.a.mark((function e(t){var s,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=O.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(te.a)({},n));case 5:if(!g.length){e.next=7;break}return e.abrupt("return");case 7:w();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Object(ce.a)(),_=v.register,g=v.formState.errors,x=v.handleSubmit,w=function(){var t={user:a,access_token:e.access_token};y(t).then((function(e){u(e.data.code)})).catch((function(e){console.log("Failed",e.response),f("Failed")}))},S=function(t){var s={verify_code:o,otp:t.otp};N(s).then((function(t){f("successfully saved"),setTimeout((function(){e.addAgentClicked()}),2e3)})).catch((function(e){f("Failed to saved"),console.log(e.response)}))};return Object(d.jsxs)("div",{className:"Users__sub-container",children:[o?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:x((function(e){g.length||S(e)})),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},_("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:x(p),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[g.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},_("name",{required:!0,min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.email_id&&Object(d.jsx)("span",{className:"Users__errors",children:g.email_id.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},_("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.phone_no&&Object(d.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},_("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.address&&Object(d.jsx)("span",{className:"Users__errors",children:g.address.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},_("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.password&&Object(d.jsx)("span",{className:"Users__errors",children:g.password.message}),Object(d.jsx)("input",Object(te.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},_("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{disabled:o,className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),m&&Object(d.jsx)(le,{message:m})]})}var Te=["title","titleId"];function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ee.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ze(e,t){var s=e.title,a=e.titleId,c=Ie(e,Te);return n.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-person-square",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,De||(De=n.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})),Pe||(Pe=n.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"})))}var Me=n.forwardRef(ze);s.p;function qe(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!0),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)(1),p=Object(i.a)(f,1)[0];Object(n.useEffect)((function(){x(2,e.access_token).then((function(e){setTimeout((function(){m(!1)}),1e3),c(e.data.data)})).catch((function(t){t&&t.response&&401===t.response.status&&(m(!0),e.refreshAccessToken())}))}),[e.access_token,o,e]);var v=function(e){e&&e.preventDefault(),u(!o)};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Me,{})," ","  "," Agents"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return v(e)},children:o?"Cancel Adding":"Add new Agent"})})]}),O?Object(d.jsxs)("div",{className:"Agents__spinners",children:[Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)("div",{children:o?Object(d.jsx)(Ue,{addAgentClicked:v,access_token:e.access_token}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Le,{agents:a}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(H.a,{spacing:2,children:Object(d.jsx)(R.a,{variant:"outlined",color:"primary",boundaryCount:2,count:a.length%6===0?a.length/6:Math.floor(a.length/6)+1,page:p})})})]})})]})}s(494);function Fe(){var e=Object(n.useContext)(j),t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!0),l=Object(i.a)(r,2),o=l[0],u=l[1],b=e.access_token,h=e.userDetails,O=Object(n.useState)({name:"",email_id:"",phone_no:"",address:""}),m=Object(i.a)(O,2),f=m[0],p=m[1],v=function(e){e.preventDefault(),u(!o)};Object(n.useEffect)((function(){p((function(e){return Object(te.a)(Object(te.a)({},e),h)}));var e=function(){var e=Object(se.a)(ae.a.mark((function e(){var t,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={errorCorrectionLevel:"H",type:"image/jpeg",quality:1,margin:1,color:{dark:"#000",light:"#FFF"}},e.next=4,pe.a.toDataURL(h.user_id,t);case 4:s=e.sent,c(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]);var _=function(e,t){e.preventDefault(),e.persist(),o||("name"===t&&p(Object(te.a)(Object(te.a)({},f),{},{name:e.target.value})),"email"===t&&p(Object(te.a)(Object(te.a)({},f),{},{email_id:e.target.value})))},x=function(t){(function(e){return g({method:"POST",url:"user/update",data:{name:e.name,email_id:e.email_id},headers:{access_token:e.access_token}})})({name:f.name,email_id:f.email_id,access_token:b}).then((function(t){e.saveuserDetails(t.data),alert("Successfully saved")}))};return Object(d.jsxs)("div",{className:"Settings__main-container",children:[Object(d.jsxs)("div",{className:"Settings__heading-container",children:[Object(d.jsx)("div",{onClick:function(e){return v(e)},className:o?"Settings__heading-left Settings__heading-left-selected":"Settings__heading-left",children:"Profile"}),Object(d.jsx)("div",{onClick:function(e){return v(e)},className:o?"Settings__heading-right":"Settings__heading-right Settings__heading-right-selected",children:"Edit Profile"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Name"}),Object(d.jsx)("input",{value:f.name,onChange:function(e){return _(e,"name")},className:"Settings__firstname",type:"text",placeholder:"Name",name:"firstName"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Email"}),Object(d.jsx)("input",{onChange:function(e){return _(e,"email")},value:f.email_id,type:"text",className:"Settings__firstname"})]}),o&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Phone"}),Object(d.jsx)("input",{readOnly:!0,value:f.phone_no,type:"text",className:"Settings__email"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Address"}),Object(d.jsx)("input",{onChange:function(e){return _(e,"email")},value:f.address||"",type:"text",className:"Settings__firstname"})]})]}),!o&&Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"Settings__field-container",children:Object(d.jsx)("input",{onClick:function(e){return x()},value:"Save",type:"submit",className:"Settings__submit"})})}),Object(d.jsx)("div",{children:a?Object(d.jsx)("a",{href:a,download:!0,children:Object(d.jsx)("img",{width:"350px",height:"350px",src:a,alt:"img"})}):null})]})}var Re,He=s(147),Be=(s(495),["title","titleId"]);function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ve.apply(this,arguments)}function Ge(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Je(e,t){var s=e.title,a=e.titleId,c=Ge(e,Be);return n.createElement("svg",Ve({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-graph-up-arrow",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,Re||(Re=n.createElement("path",{fillRule:"evenodd",d:"M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"})))}var Qe=n.forwardRef(Je),We=(s.p,{type:"bar",data:{labels:["25th","26th","27th","28th","29th","30th"],datasets:[{label:"# of Votes",data:[22,23,23,25,21,28],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{min:16}},barThickness:30,barPercentage:.5,borderRadius:5}}),Ke={type:"bar",data:{labels:["cow","buffallo","Ghee"],datasets:[{label:"# of Votes",data:[122,99,23],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},options:{scales:{y:{min:19}},barThickness:50,barPercentage:.8,borderRadius:5}},Ze={type:"doughnut",data:{labels:["agent 1","agent 2","agent 3","agent 4"],datasets:[{label:"Dataset 1",data:[5,23,10,6],backgroundColor:["red","orange","yellow","green"].map((function(e){return e}))}]},options:{cutout:"80%",responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Pie Chart"}}}};function $e(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useRef)(null),r=Object(n.useRef)(null),l=Object(n.useRef)(null),o=function(e,t){s.data.datasets[e].data=t,s.update()};return Object(n.useEffect)((function(){c&&c.current&&new He.a(c.current,Ze)}),[c]),Object(n.useEffect)((function(){if(r&&r.current){var e=new He.a(r.current,We);a(e)}}),[r]),Object(n.useEffect)((function(){if(l&&l.current){var e=new He.a(l.current,Ke);a(e)}}),[l]),Object(d.jsxs)("div",{className:"Statistics__main-container main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Qe,{})," ","  "," Admin Panel"]}),Object(d.jsx)("div",{})]}),Object(d.jsx)("form",{className:"",noValidate:!0,children:Object(d.jsx)(f.a,{id:"date",label:"Date ",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{onClick:function(e){o(0,[15,39,13,5,2,38])},children:[Object(d.jsx)("br",{}),"Daily Milk Delivery Quantity (total delivered on this date)",Object(d.jsx)("canvas",{ref:r})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"Per Agent Milk Delivery Quantity (total delivered by selected Agent today/any day selection from Calender drop down)"]}),Object(d.jsx)("div",{className:"Statistics__donough",children:Object(d.jsx)("canvas",{ref:c})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})," Daily Milk Delivery Quantity by Type last month (cow/buffallo / ghee)"]}),Object(d.jsx)("canvas",{ref:l})]})]})}var Ye=s(591),Xe=s(592),et=s(593),tt=s(585),st=s(288),nt=s.n(st),at=s(576),ct=s(297),rt=s.p+"static/media/unchecked.3fb05906.svg",it=s.p+"static/media/checked.4f7f3053.svg",lt=Object(d.jsx)("img",{src:rt,alt:"dsd",fontSize:"small"}),ot=Object(d.jsx)("img",{src:it,alt:"dsds",fontSize:"small"});function dt(e){var t=Array(100).fill().map((function(e,t){return t+1}));return Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(at.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s,"quantity")},options:t,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(te.a)(Object(te.a)({},e),{},{children:[Object(d.jsx)(ct.a,{icon:lt,checkedIcon:ot,style:{marginRight:8},checked:n}),t]}))},renderInput:function(e){return Object(d.jsx)(f.a,Object(te.a)(Object(te.a)({},e),{},{label:"Select quantity",placeholder:"quantity"}))}})})}function ut(e){var t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useContext)(j).access_token,h=function(){var t=Object(se.a)(ae.a.mark((function t(s){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:if(s!==e.currentUser.user_id){t.next=12;break}return t.next=5,O();case 5:return n={listDeliveries:[{delivery_id:e.currentUser.delivery_id||"na",delivery_type:e.currentUser.del_type||"na",product_type:e.currentUser.product_type,quantity:a||e.currentUser.quantity,user_id:s,delivery_date:(new Date).toISOString()}]},t.next=8,u(s);case 8:return t.next=10,K(n,b).then((function(t){alert("success"),e.clearCurrentUser()})).catch((function(e){alert("failed")}));case 10:t.next=13;break;case 12:alert("Wrong User Selected");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t={lat:0,long:0};navigator.geolocation.getCurrentPosition((function(e){var s=e.coords;t.lat=s.latitude,t.long=s.longitude,console.log("Your current position is:"),console.log("Latitude : ".concat(s.latitude)),console.log("Longitude: ".concat(s.longitude)),console.log("More or less ".concat(s.accuracy," meters."))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),function(e,t,s){return g({method:"POST",url:"agentuser/".concat(s,"/updatedUserDeliveryDetails"),data:t.latlong,headers:{access_token:e}})}(b,t,e.currentUser.delivery_id).then((function(e){console.log("user location updated")}))};return Object(d.jsx)(Ye.a,{className:"conatiner",children:Object(d.jsxs)(Xe.a,{children:[Object(d.jsx)("h2",{className:"title",children:"Scan QR Code with DailyFreshMilk"}),Object(d.jsx)("h3",{children:"Please select the quantity"}),Object(d.jsx)(dt,{handleData:function(e,t){e.preventDefault(),c(t)}}),Object(d.jsx)(et.a,{children:Object(d.jsx)(tt.a,{container:!0,spacing:2,children:Object(d.jsxs)(tt.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:[Object(d.jsx)("h3",{children:"Qr Code Scan by Camera"}),Object(d.jsx)(nt.a,{delay:300,style:{width:"100%"},onError:function(e){console.log(e)},onScan:h}),Object(d.jsxs)("h3",{children:["User ID: ",o]})]})})})]})})}function jt(e){var t=["booked","deliveredO","deliveredS","cancelled","intransit","pickedup"],s=function(e){var s=t[e];return s||"Not Available"},n=function(t){var s=e.deliveryTypes.find((function(e){return e.delivery_type===t}));return s&&s.name};return Object(d.jsx)(d.Fragment,{children:e.products.map((function(t,a){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"Deliveries__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Delivery Status"}),Object(d.jsx)("div",{onClick:function(s){return function(t,s,n,a,c,r){t.preventDefault(),e.setCurrentUser({delivery_id:s,user_id:n,quantity:a,del_type:c,product_type:r})}(s,e.delivery_id,e.user_id,t.quantity,t.delivery_type,t.product_type)},className:"Orders__status "+(c=s(t.delivery_status),"booked"===c?"Orders__blue":"deliveredO"===c||"deliveredS"===c?"Orders__green":"cancelled"===c?"Orders__red":"intransit"===c?"Orders__orange":"pickedup"===c?"Orders__yellow":"Orders__grey"),children:s(t.delivery_status)})]}),Object(d.jsxs)("div",{className:"Orders__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(d.jsxs)("div",{className:"Orders__product",children:[t.name," - ",t.quantity]})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(d.jsxs)("div",{className:"cust-idnumber",children:[" \u20b9 ",t.price,"/- "]})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(d.jsx)("div",{className:"cust-idnumber",children:n(t.delivery_type)})]})]},a);var c}))})}function bt(e){var t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(){c(null)};return Object(d.jsx)(d.Fragment,{children:a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(E,{isVisible:a,clearCurrentUser:r}),Object(d.jsx)(ut,{currentUser:a,clearCurrentUser:r})]}):Object(d.jsx)("div",{className:"Orders__card-container",children:e.deliveries.map((function(t,s){return Object(d.jsxs)(m.a,{className:"Orders__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Orders__cust-id Orders__date-address-row",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",t.id]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.UserDetail.name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer Ph"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.UserDetail.phone_no})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Address"}),Object(d.jsx)("div",{className:"Orders__address",children:t.UserDetail.address})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(d.jsx)("div",{onClick:function(e){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(e,t.lat,t.long)},className:"cust-idnumber Deliveries__status",children:"Click Here - Maps"})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Ring Bell"}),Object(d.jsx)("div",{className:"Deliveries__status "+(n=Boolean(t.ring_bell).toString(),"true"===n?"Orders__green":"false"===n?"Orders__red":void 0),children:Boolean(t.ring_bell).toString()})]}),Object(d.jsx)(jt,{products:t.products,delivery_id:t.delivery_id,user_id:t.user_id,deliveryTypes:e.deliveryTypes,setCurrentUser:c})]},s);var n}))})})}s(280);function ht(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.userDetails,o=e.refreshAccessToken,u=Object(n.useState)([]),b=Object(i.a)(u,2),h=b[0],O=b[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),p=f[0],v=f[1];return Object(n.useEffect)((function(){v(!0),function(e,t){return g({method:"GET",url:"agent/".concat(e,"/listDeliveries"),headers:{access_token:t}})}(l.user_id,r).then((function(e){c(e.data.data)})).catch((function(e){v(!0),e&&e.response&&401===e.response.status&&o()})),W(r).then((function(e){O(e.data.data),setTimeout((function(){v(!1)}),1e3)})).catch((function(e){v(!0)}))}),[l.user_id,r,o]),Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsx)("div",{className:"Orders__main-heading",children:Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(F,{})," ","  "," Agent Deliveries"]})}),Object(d.jsx)("div",{children:p&&!a.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)(bt,{agent:e.userDetails.name,deliveryTypes:h,deliveries:a})})]})}var Ot=s.p+"static/media/cancel.c228d75b.svg",mt=s.p+"static/media/pencil.0c835751.svg",ft=s.p+"static/media/save.f8c222ed.svg";function pt(e){var t=Object(n.useState)(e.deliverytype),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=function(e,t){switch(e.preventDefault(),t){case 1:return c(Object(te.a)(Object(te.a)({},a),{},{name:e.target.value}));case 2:return c(Object(te.a)(Object(te.a)({},a),{},{description:e.target.value}));default:return}},b=function(t){t.preventDefault();var s,n,c,r={name:a.name,description:a.description};s=e.access_token,n=r,c=a.id,g({method:"POST",url:"deliverytype/".concat(c,"/updatedeliverytype"),headers:{access_token:s},data:n}),u(!1)};return Object(d.jsxs)(m.a,{className:"Deliveries__types-container",elevation:2,children:[o===a.id?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return j(e,1)},value:a.name}),Object(d.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return j(e,2)},value:a.description})]}):Object(d.jsxs)("div",{className:"Deliveries__types-container",children:[a.name," : ",a.description]}),Object(d.jsx)("div",{className:"Deliveries__types-container-img",children:o===a.id?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"Deliveries__types-svg",src:ft,alt:"save",onClick:function(e){return b(e)}}),Object(d.jsx)("img",{className:"Deliveries__types-svg",src:Ot,alt:"save",onClick:function(e){return u(!1)}})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("img",{className:"Deliveries__types-svg",onClick:function(e){return function(e,t){e.preventDefault(),u(t)}(e,a.id)},src:mt,alt:"delete"})})})]})}function vt(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(null),h=Object(i.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)(null),p=Object(i.a)(f,2),v=p[0],_=p[1];Object(n.useEffect)((function(){e.access_token&&W(e.access_token).then((function(e){c(e.data.data)})).catch((function(t){console.log(t),t&&t.response&&401===t.response.status&&e.refreshAccessToken()}))}),[e.access_token,e,o]);var x=function(t){if(t.preventDefault(),O&&v){var s={name:O,description:v};(function(e,t){return g({method:"POST",url:"deliverytype/adddeliverytype",data:t,headers:{access_token:e}})})(e.access_token,s).then((function(e){(e.status=200)&&u(!o),m(""),_("")}))}};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Me,{})," ","  "," Delivery Types"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e.preventDefault(),u(!o)}(e)},children:o?"Cancel Adding":"Add new Delivery Type"})})]}),o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:"Login__input-focus-effect",placeholder:"name",type:"text",value:O,onChange:function(e){return m(e.target.value)}})}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:"Login__input-focus-effect",placeholder:"description",type:"text",value:v,onChange:function(e){return _(e.target.value)}})}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return x(e)},children:"Submit"})})]}):a.map((function(t,s){return Object(d.jsx)(pt,{access_token:e.access_token,deliverytype:t},s)}))]})}var _t=s(581),gt=s(587),xt=s(579),yt=s(91),Nt=s(586),wt=(s(500),Object(d.jsx)("img",{src:rt,alt:"dsd",fontSize:"small"})),St=Object(d.jsx)("img",{src:it,alt:"dsds",fontSize:"small"});function kt(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken,o=e.handlePData;return Object(n.useEffect)((function(){Q(null,r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(at.a,{id:"checkboxes-tags-demo",onChange:function(e,t){return o(e,t)},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(te.a)(Object(te.a)({},e),{},{children:[Object(d.jsx)(ct.a,{icon:wt,checkedIcon:St,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(f.a,Object(te.a)(Object(te.a)({},e),{},{label:"Select Products",placeholder:"products"}))}})})}var Ct=Object(d.jsx)("img",{src:rt,alt:"dsd",fontSize:"small"}),At=Object(d.jsx)("img",{src:it,alt:"dsds",fontSize:"small"});function Lt(e){var t=e.access_token,s=e.refreshAccessToken,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){x(3,t).then((function(e){l(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&s()}))}),[t,s]),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(at.a,{multiple:!0,id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s,"user")},options:r,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(te.a)(Object(te.a)({},e),{},{children:[Object(d.jsx)(ct.a,{icon:Ct,checkedIcon:At,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(f.a,Object(te.a)(Object(te.a)({},e),{},{label:"Select Users",placeholder:"Users"}))}})})}var Dt=Object(d.jsx)("img",{src:rt,alt:"dsd",fontSize:"small"}),Pt=Object(d.jsx)("img",{src:it,alt:"dsds",fontSize:"small"});function Ut(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken;return Object(n.useEffect)((function(){x(2,r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(at.a,{onChange:function(t,s){return e.handleData(t,s.user_id,"agent")},id:"checkboxes-tags-demo",options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(te.a)(Object(te.a)({},e),{},{children:[Object(d.jsx)(ct.a,{icon:Dt,checkedIcon:Pt,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(f.a,Object(te.a)(Object(te.a)({},e),{},{label:"Select Agents",placeholder:"Agents"}))}})})}var Tt=Object(d.jsx)("img",{src:rt,alt:"dsd",fontSize:"small"}),Et=Object(d.jsx)("img",{src:it,alt:"dsds",fontSize:"small"});function It(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken;return Object(n.useEffect)((function(){W(r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(at.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s.delivery_type,"delivery_type")},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(te.a)(Object(te.a)({},e),{},{children:[Object(d.jsx)(ct.a,{icon:Tt,checkedIcon:Et,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(f.a,Object(te.a)(Object(te.a)({},e),{},{label:"Select deliver type",placeholder:"delivery_type"}))}})})}function zt(){var e=Object(n.useContext)(j),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(0),h=Object(i.a)(b,2),O=h[0],f=h[1],p=Object(n.useState)({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),v=Object(i.a)(p,2),_=v[0],x=v[1],y=["Select Agent","Select User","Select Product","Select Quantity","Select Delivery type"],N=function(t){t.preventDefault(),c(!0);var s=_.users.map((function(e){return e.user_id})),n=[];s.map((function(e){return n.push({user_id:e,quantity:_.quantity,delivery_type:_.delivery_type,product_type:_.product_type,price:_.price})}));var a,r,i={agent_id:_.agent_id,assignlist:n};(a=e.access_token,r=i,g({method:"POST",url:"/agentuser/assignUser",headers:{access_token:a},data:r})).then((function(e){x({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),f(0),c(!1),alert("successfully saved")})).catch((function(e){c(!1),alert("Please try again")}))};var w=function(e,t,s){e&&e.preventDefault(),"agent"===s&&x(Object(te.a)(Object(te.a)({},_),{},{agent_id:t})),"user"===s&&x(Object(te.a)(Object(te.a)({},_),{},{users:t})),"delivery_type"===s&&x(Object(te.a)(Object(te.a)({},_),{},{delivery_type:t})),"quantity"===s&&x(Object(te.a)(Object(te.a)({},_),{},{quantity:t})),u(!0)},S=function(e,t){e.preventDefault(),x(Object(te.a)(Object(te.a)({},_),{},{price:t.price,product_type:t.product_type})),u(!0)};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsx)("div",{className:"Orders__main-heading",children:Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Oe,{})," ","  "," Assign Users to Agents"]})}),a?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(G,{}),Object(d.jsx)(J.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(J.a,{variant:"rectangular",animation:"wave",width:210,height:118})," "]}):Object(d.jsxs)(m.a,{className:"AssignUsers__sub",elevation:2,children:[Object(d.jsx)(_t.a,{alternativeLabel:!0,activeStep:O,children:y.map((function(e,t){return Object(n.createElement)(gt.a,Object(te.a)(Object(te.a)({},{}),{},{key:t}),Object(d.jsx)(xt.a,Object(te.a)(Object(te.a)({},{}),{},{children:e})))}))}),O===y.length?Object(d.jsx)(Nt.a,{variant:"h4",align:"center",children:"Agent Assigned to User Successfully"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("form",{children:function(t){switch(t){case 0:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ut,{access_token:e.access_token,refreshAccessToken:e.refreshAccessToken,handleData:w})});case 1:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Lt,{handleData:w,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 2:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(kt,{handlePData:S,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 3:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(dt,{handleData:w,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 4:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(It,{handleData:w,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});default:return"unknown step"}}(O)}),Object(d.jsx)(yt.a,{disabled:0===O,onClick:function(){f(O-1)},children:"Back"}),Object(d.jsx)(yt.a,{className:"",variant:"contained",disabled:!o,color:"primary",onClick:function(e){return O===y.length-1?N(e):(o&&f(O+1),void u(!1))},children:O===y.length-1?"Submit":"Next"})]})]})]})}s(501);var Mt,qt=["title","titleId"];function Ft(){return Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ft.apply(this,arguments)}function Rt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Ht(e,t){var s=e.title,a=e.titleId,c=Rt(e,qt);return n.createElement("svg",Ft({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-gear-wide-connected",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,Mt||(Mt=n.createElement("path",{d:"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"})))}var Bt,Vt=n.forwardRef(Ht),Gt=(s.p,["title","titleId"]);function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Jt.apply(this,arguments)}function Qt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Wt(e,t){var s=e.title,a=e.titleId,c=Qt(e,Gt);return n.createElement("svg",Jt({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-truck",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,Bt||(Bt=n.createElement("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})))}var Kt,Zt,$t=n.forwardRef(Wt),Yt=(s.p,["title","titleId"]);function Xt(){return Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Xt.apply(this,arguments)}function es(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ts(e,t){var s=e.title,a=e.titleId,c=es(e,Yt);return n.createElement("svg",Xt({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-person-plus",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,Kt||(Kt=n.createElement("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})),Zt||(Zt=n.createElement("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})))}var ss=n.forwardRef(ts);s.p;function ns(e){var t,s=Object(n.useContext)(j),a=Object(n.useState)([{title:"Orders",value:"orders"},{title:"Users",value:"users"},{title:"Agents",value:"agents"},{title:"Products",value:"products"},{value:"assign_users",title:"Assign Users"},{value:"delivery_type",title:"Delivery Types"},{value:"settings",title:"Account"}]),c=Object(i.a)(a,1)[0],r=Object(n.useState)([{title:"Deliveries",value:"deliveries"},{title:"settings",value:"settings"}]),l=Object(i.a)(r,1)[0],u=Object(o.h)(),b=Object(n.useRef)(),h=Object(n.useState)(Boolean(window.innerWidth>1025)),O=Object(i.a)(h,1)[0],m=Object(n.useRef)(null);t=m,Object(n.useEffect)((function(){function e(e){O||!t.current||t.current.contains(e.target)||(b.current.checked=!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]);var f=function(e){switch(e.toString()){case"1":return Object(d.jsx)(F,{style:{color:"white"}});case"2":return Object(d.jsx)(Oe,{style:{color:"white"}});case"3":return Object(d.jsx)(Me,{style:{color:"white"}});case"4":return Object(d.jsx)(Ce,{style:{color:"white"}});case"5":return Object(d.jsx)(ss,{style:{color:"white"}});case"6":return Object(d.jsx)($t,{style:{color:"white"}});default:return Object(d.jsx)(Vt,{style:{color:"white"}})}},p=s.isAdmin?c:l;return Object(d.jsxs)("div",{ref:m,className:"Navbar__header",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:O,ref:b,className:"openSidebarMenu",id:"openSidebarMenu"}),Object(d.jsxs)("label",{htmlFor:"openSidebarMenu",className:"Navbar__sidebarIconToggle",children:[Object(d.jsx)("div",{className:"spinner diagonal part-1"}),Object(d.jsx)("div",{className:"spinner horizontal"}),Object(d.jsx)("div",{className:"spinner diagonal part-2"})]}),Object(d.jsxs)("div",{id:"sidebarMenu",className:"Navbar__sidebarMenu",children:[Object(d.jsxs)("div",{className:"Navbar__sidebarMenu-header",children:[s.isAdmin?"Admin":"Agent"," Dashboard ",Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:"Have a Happy Day "})]}),Object(d.jsx)("ul",{className:"Navbar__sidebarMenu-inner",children:p.map((function(e,t){return Object(d.jsx)("li",{onClick:function(t){return function(e,t){e.preventDefault(),u(t),O||(b.current.checked=!1)}(t,e.value)},children:Object(d.jsxs)("div",{className:"Navbar__sideMenu-icons",children:[s.isAdmin?f(t+1):(n=t+1,"1"===n.toString()?Object(d.jsx)($t,{style:{color:"white"}}):Object(d.jsx)(Vt,{style:{color:"white"}})),Object(d.jsx)("span",{className:"Navbar__sideMenu-icons-img",children:e.title})]})},t);var n}))})]})]}),Object(d.jsx)("div",{onClick:function(e){return function(e){return e.preventDefault(),u("/")}(e)},className:"Navbar__component-name",children:Object(d.jsx)("img",{height:"80px",width:"150px",src:k,alt:"Daily"})}),Object(d.jsxs)("div",{onClick:function(e){return e.preventDefault(),localStorage.clear(),sessionStorage.clear(),s.setIsLoggedIn(!1),s.setAccessToken(null),s.setIsAdmin(!1),s.setRefreshToken(null),u("/")},className:"Navbar__logout-container",children:[Object(d.jsx)("div",{className:"Navbar__logout-image",children:Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"white",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(d.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]})}),Object(d.jsx)("div",{className:"Navbar__logout-text",children:"LOGOUT"})]})]})}var as,cs=s(518),rs=s(575),is=s(588),ls=s(589),os=["title","titleId"];function ds(){return ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ds.apply(this,arguments)}function us(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function js(e,t){var s=e.title,a=e.titleId,c=us(e,os);return n.createElement("svg",ds({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-house-door",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,as||(as=n.createElement("path",{d:"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"})))}var bs=n.forwardRef(js);s.p;function hs(e){var t=Object(n.useContext)(j),s=Object(n.useState)(0),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(o.h)(),u=Object(n.useRef)(null),b=function(e,s){switch(e.preventDefault(),s.toString()){case"0":default:return l("/");case"1":return t.isAdmin?l("orders"):l("deliveries");case"2":return l("settings")}};return Object(d.jsxs)(cs.a,{sx:{pb:7},ref:u,children:[Object(d.jsx)(rs.a,{}),Object(d.jsx)(m.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(d.jsxs)(is.a,{showLabels:!0,value:c,onChange:function(e,t){b(e,t),r(t)},children:[Object(d.jsx)(ls.a,{label:"Home",icon:Object(d.jsx)(bs,{style:{color:"#90a0ee"}})}),Object(d.jsx)(ls.a,{label:"Deliveries",icon:Object(d.jsx)($t,{style:{color:"#90a0ee"}})}),Object(d.jsx)(ls.a,{label:"Account",icon:Object(d.jsx)(Vt,{style:{color:"#90a0ee"}})})]})})]})}s(502);function Os(){var e=Object(n.useContext)(j);return Object(d.jsx)("div",{children:e.isAdmin?Object(d.jsx)(o.a,{to:"/statistics"}):Object(d.jsx)(o.a,{to:"/deliveries"})})}var ms=s.p+"static/media/404.0c2be578.gif";function fs(){return Object(d.jsxs)("div",{className:"main-container",children:["Not found",Object(d.jsx)(l.b,{to:"/",children:"Home"}),Object(d.jsx)("img",{height:"500px",width:"400px",src:ms,alt:"Daily"})," "]})}function ps(){var e=JSON.parse(localStorage.getItem("loggedIn")),t=JSON.parse(localStorage.getItem("isAdmin")),s=sessionStorage.getItem("access_token"),a=localStorage.getItem("refresh_token"),c=JSON.parse(localStorage.getItem("userDetails")),r=Object(n.useState)(c||{}),b=Object(i.a)(r,2),h=b[0],O=b[1],m=Object(n.useState)(e||!1),f=Object(i.a)(m,2),p=f[0],v=f[1],_=Object(n.useState)(t||!1),x=Object(i.a)(_,2),y=x[0],N=x[1],w=Object(n.useState)(s||null),S=Object(i.a)(w,2),k=S[0],C=S[1],L=Object(n.useState)(a||null),D=Object(i.a)(L,2),P=D[0],U=D[1];Object(n.useEffect)((function(){if(!k)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("loggedIn",Boolean(p))}),[p,k]),Object(n.useEffect)((function(){if(!k)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("isAdmin",Boolean(y))}),[y,k]),Object(n.useEffect)((function(){localStorage.setItem("userDetails",JSON.stringify(h))}),[h]),Object(n.useEffect)((function(){sessionStorage.setItem("access_token",k)}),[k]),Object(n.useEffect)((function(){localStorage.setItem("refresh_token",P)}),[P]);var T={isLoggedIn:p,access_token:k,refresh_token:P,isAdmin:y,userDetails:h,refreshAccessToken:function(){var e;(e=P,g({method:"POST",url:"oauth/token",headers:{grant_type:"refresh",refresh_token:e}})).then((function(e){C(e.data.access_token)}))},setIsLoggedIn:v,setAccessToken:C,setIsAdmin:N,setRefreshToken:U,saveuserDetails:function(e){O(e)}};return Object(d.jsx)(l.a,{children:Object(d.jsxs)(j.Provider,{value:T,children:[p?Object(d.jsx)(ns,{}):Object(d.jsx)(d.Fragment,{children:" "}),Object(d.jsxs)(o.e,{children:[Object(d.jsxs)(o.c,{exact:!0,path:"/",element:Object(d.jsx)(u,{}),children:[Object(d.jsx)(o.c,{exact:!0,path:"/",element:Object(d.jsx)(Os,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/users",element:Object(d.jsx)(me,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/users/:id",element:Object(d.jsx)(ve,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/orders",element:Object(d.jsx)(Y,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/agents",element:Object(d.jsx)(qe,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/products",element:Object(d.jsx)(Ae,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/assign_users",element:Object(d.jsx)(zt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/delivery_type",element:Object(d.jsx)(vt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/settings",element:Object(d.jsx)(Fe,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/deliveries",element:Object(d.jsx)(ht,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/statistics",element:Object(d.jsx)($e,{})})]}),Object(d.jsx)(o.c,{exact:!0,path:"/login",element:Object(d.jsx)(A,{})}),Object(d.jsx)(o.c,{path:"*",element:Object(d.jsx)(fs,{})})]}),p?Object(d.jsx)(hs,{}):Object(d.jsx)(d.Fragment,{children:" "})]})})}var vs=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,594)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(ps,{})}),document.getElementById("root")),vs()}},[[503,1,2]]]);
//# sourceMappingURL=main.4df0fb1d.chunk.js.map