(this.webpackJsonpdailymilkfresh=this.webpackJsonpdailymilkfresh||[]).push([[0],{111:function(e,t,s){},199:function(e,t,s){},288:function(e,t,s){},290:function(e,t,s){},299:function(e,t,s){},300:function(e,t,s){},301:function(e,t,s){},362:function(e,t,s){},363:function(e,t,s){},368:function(e,t){},370:function(e,t){},385:function(e,t){},387:function(e,t){},415:function(e,t){},417:function(e,t){},418:function(e,t){},423:function(e,t){},425:function(e,t){},431:function(e,t){},433:function(e,t){},452:function(e,t){},464:function(e,t){},467:function(e,t){},506:function(e,t,s){},507:function(e,t,s){},531:function(e,t,s){},532:function(e,t,s){},537:function(e,t,s){},538:function(e,t,s){},539:function(e,t,s){},540:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(71),r=s.n(c),i=(s(362),s(4)),l=(s(363),s(46)),o=s(26),d=s(1);function u(){return JSON.parse(localStorage.getItem("loggedIn"))?Object(d.jsx)(o.b,{}):Object(d.jsx)(o.a,{to:"/login"})}var j=a.a.createContext(),b=s(616),O=s(84),h=s.n(O),m=s(137),f=s(306),v=s.n(f),p=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_HOSTNAME||"https://dailyorganicfresh.dailyfresh.farm",_=v.a.create({baseURL:p,timeout:1e4}),g=function(e){var t=e.queryKey;return _({method:"POST",url:"/user/listUsers",data:{type_of_user:t[0]},headers:{access_token:t[1]}})},x=function(e){return _({method:"POST",url:"/user/register/",data:e.user,headers:{access_token:e.access_token}})},y=function(e){return _({method:"GET",url:"/user/".concat(e.verify_code,"/verify/").concat(e.otp)})},N=s.p+"static/media/eye_close.73573ab2.svg",w=s.p+"static/media/eye_open.e5325192.svg",S=(s(288),s.p+"static/media/logo.9631ecf8.png");function k(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),b=Object(i.a)(j,2),O=b[0],m=b[1],f=function(t){var s;t.preventDefault(),e.setClickOnce(!0),(s=e.username,_({method:"POST",url:"user/forgot",data:{phone_no:s}})).then((function(t){m(t.data.code),e.setClickOnce(!1)})).catch((function(t){e.setapiresponse(t.response.message),e.setClickOnce(!1)}))},v=function(t){t.preventDefault();var s=h.a.sign({data:o,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51");(function(e){return _({method:"POST",url:"user/".concat(e.code,"/password"),data:{pin:1234,npassword:e.newpassword}})})({code:O,otp:a,newpassword:s}).then((function(t){e.setapiresponse(t.data.message),setTimeout((function(){e.setResetPassword(!1),e.setapiresponse(null)}),3e3)})).catch((function(t){e.setapiresponse(t.response.data.message)}))};return Object(d.jsxs)("form",{className:"Login__sub-container",children:[Object(d.jsx)("div",{className:"Login__login-header",children:"Forgot Password"}),e.apiresponsemessage?Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("span",{className:"Login__success-password",children:e.apiresponsemessage})}):null,O?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"New Password",onChange:function(e){return u(e.target.value)},value:o}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Enter OTP",onChange:function(e){return c(e.target.value)},value:a}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){return v(e)},disabled:o.length<3||a.length<3||e.clickedonce,type:"submit",value:"Change Password",className:o.length<3||a.length<3||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",{className:"Login__input-focus-effect",type:"text",placeholder:"Phone Number",onChange:function(t){return e.setUsername(t.target.value)},value:e.username}),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){return f(e)},type:"submit",value:"Request OTP",disabled:10!==e.username.length||e.clickedonce,className:10!==e.username.length||e.clickedonce?"Login__submit Login__submit-disabled":"Login__submit"})})]})]})}function D(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),l=r[0],u=r[1],O=Object(n.useState)(!1),f=Object(i.a)(O,2),v=f[0],p=f[1],g=Object(n.useState)(""),x=Object(i.a)(g,2),y=x[0],D=x[1],C=Object(n.useState)(""),A=Object(i.a)(C,2),P=A[0],L=A[1],U=Object(n.useState)(null),T=Object(i.a)(U,2),E=T[0],I=T[1],q=Object(o.h)(),z=Object(n.useContext)(j),F=z.isLoggedIn;Object(n.useEffect)((function(){F&&q("/")}),[F,q]);var M=function(){u(!l)};function R(){return y.length>3&&P.length>3}var H=function(e){(function(e){return _({method:"POST",url:"oauth/token",headers:{grant_type:"code",code:e}})})(e).then((function(e){B(e.data.access_token,e.data.refresh_token)})).catch((function(e){I(e.response.data.message),console.log("error in request",e)}))},B=function(e,t){(function(e){return _({method:"GET",url:"user/details",headers:{access_token:e}})})(e).then((function(s){return 1===s.data.data.user_type?(z.setIsLoggedIn(!0),z.setAccessToken(e),z.setIsAdmin(!0),z.setRefreshToken(t),z.saveuserDetails(s.data.data),q("/")):2===s.data.data.user_type?(z.setIsLoggedIn(!0),z.setAccessToken(e),z.setIsAdmin(!1),z.setRefreshToken(t),z.saveuserDetails(s.data.data),q("/")):void I("Un Authorized User")}))};return Object(d.jsx)("div",{className:"Login__main-container",children:Object(d.jsxs)("div",{className:"Login__paper",children:[Object(d.jsx)("img",{className:"Login__logo-image",src:S,alt:"this is logo"}),s?Object(d.jsx)(k,{username:y,setUsername:D,setResetPassword:a,apiresponsemessage:E,setapiresponse:I,clickedonce:v,setClickOnce:p}):Object(d.jsxs)("form",{className:"Login__sub-container",children:[Object(d.jsx)("div",{className:"Login__login-header",children:" Sign in - Admin Panel "}),E?Object(d.jsx)("div",{className:"Login__wrong-password",children:E}):null,Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)(m.a,{error:Boolean(E),id:"username",label:"Phone Number",fullWidth:!0,size:"small",value:y,onChange:function(e){return D(e.target.value)}})}),Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)(m.a,{type:l?"text":"password",error:Boolean(E),id:"password",label:"Password",fullWidth:!0,size:"small",value:P,onChange:function(e){return L(e.target.value)}}),l?Object(d.jsx)("span",{onClick:M,className:"Login__show-password",children:Object(d.jsx)("img",{className:"",src:N,alt:"closeeye"})}):Object(d.jsx)("span",{onClick:M,className:"Login__show-password",children:Object(d.jsx)("img",{className:"",src:w,alt:"closeeye"})})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{onClick:function(e){e.preventDefault(),p(!0);var t=h.a.sign({data:P,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),s={phone_no:y,password:t,app_token:Object(b.a)()};z.setIsLoggedIn(!1),z.setAccessToken(null),z.setIsAdmin(!1),z.setRefreshToken(null),function(e){return _({method:"POST",url:"user/login",data:e})}(s).then((function(e){H(e.data.code),p(!1)})).catch((function(e){I(e&&e.response&&e.response.data.message),p(!1),console.log("error in request",e)}))},disabled:!R()||v,type:"submit",value:"Log In",className:R()?"Login__submit":"Login__submit Login__submit-disabled"})}),Object(d.jsx)("div",{className:"Login__signup",onClick:function(e){return function(e){e.preventDefault(),a(!0),I(null)}(e)},children:Object(d.jsx)("span",{className:"Login__forgot",children:" Forgot your password ? "})})]})]})})}var C=s(14),A=s(325),P=s.p+"static/media/location.5861c711.gif";function L(e){return Object(d.jsx)("div",{className:"Orders__card-container",children:e.orders.map((function(t,s){return Object(d.jsxs)(A.a,{className:"Orders__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsxs)("div",{className:"Orders__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",t.id]}),Object(d.jsx)("div",{onClick:function(s){return function(t,s){t.preventDefault(),e.currentUserSelection(s)}(s,t.delivery_id)},className:"Orders__status "+(n=t.delivery_status.toString(),"booked"===n?"Orders__blue":"delivered_morning"===n||"delivered_evening"===n?"Orders__green":"cancelled"===n?"Orders__red":"intransit"===n?"Orders__orange":"pickedup"===n?"Orders__yellow":"Orders__grey"),children:t.delivery_status})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.user_name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Agent"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.agent_name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.delivery_type})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(d.jsxs)("div",{className:"cust-idnumber",children:["\u20b9 ",t.price,"/-"]})]}),Object(d.jsxs)("div",{className:"Orders__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(d.jsxs)("div",{className:"Orders__product",children:[t.product," - ",t.quantity]})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(d.jsx)("div",{className:"Orders__status",onClick:function(e){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(e,t.lat,t.lng)},children:Object(d.jsxs)("span",{children:[Object(d.jsx)("img",{height:"40px",width:"40px",src:P,alt:"Daily"})," "]})})]})]},s);var n}))})}s(506);var U=function(e){return _({method:"GET",url:"deliverytype/listdeliverytypes",headers:{access_token:e}})},T=function(e,t){return _({method:"POST",url:"/agent/delivery",headers:{access_token:t},data:e})},E=function(e,t){return _({method:"POST",url:"/history/getHistory",headers:{access_token:e},data:t})};function I(e){var t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=function(t){t.preventDefault();var s={delivery_id:e.currentUser,from:a,to:o};!function(e,t){_({method:"POST",url:"agentuser/cancelDelivery",headers:{access_token:e},data:t})}(e.access_token,s)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"OrdersCancel__main-container",children:[Object(d.jsxs)("div",{className:"OrdersCancel__row-class",children:["Cancel order Delivery id: ",e.order]}),Object(d.jsxs)("div",{className:"OrdersCancel__row-class",children:[Object(d.jsx)(m.a,{id:"frdate",onChange:function(e){return c(e.target.value)},className:"OrdersCancel__dateside",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}}),Object(d.jsx)(m.a,{id:"todate",label:"From Date",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0}})]}),Object(d.jsx)("div",{onClick:function(e){return j(e)},className:"OrdersCancel__edit",children:"Cancel"})]})})}var q,z;s(507);function F(e){return Object(d.jsx)("div",{className:"MiniNavbar__main",children:e.isVisible?Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.clearCurrentUser()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})})," ",Object(d.jsx)("span",{children:" \xa0 Back"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByName()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(d.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]})," ",Object(d.jsx)("span",{children:"Name"})]}),Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByAgent()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{fillRule:"evenodd",d:"M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"}),Object(d.jsx)("path",{d:"M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zm-8.46-.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(d.jsx)("span",{children:"Agent Name"})]}),Object(d.jsxs)("div",{onClick:function(t){return function(t){t.preventDefault(),e.sortByProduct()}(t)},className:"MiniNavbar__flexcenter",children:[Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"}),Object(d.jsx)("path",{fillRule:"evenodd",d:"M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"}),Object(d.jsx)("path",{d:"M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"})]}),Object(d.jsx)("span",{children:"Product"})]})]})})}var M=["title","titleId"];function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},R.apply(this,arguments)}function H(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function B(e,t){var s=e.title,a=e.titleId,c=H(e,M);return n.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-bag-check",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,q||(q=n.createElement("path",{fillRule:"evenodd",d:"M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0z"})),z||(z=n.createElement("path",{d:"M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"})))}var V=n.forwardRef(B),Q=(s.p,s(613)),G=s(610),W=s(618),J=s(558);function K(e){return Object(d.jsx)("div",{children:Object(d.jsx)(W.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(d.jsx)(J.a,{color:"inherit"})})})}var Z=s(620),$=function(e,t){return _({method:"POST",url:"/agentuser/assignUser",headers:{access_token:e},data:t})},Y=function(e){var t=e.queryKey;return _({method:"POST",url:"/agentuser/listAgentUsers",data:t[1],headers:{access_token:t[0]}})},X=function(e){var t=e.queryKey;return _({method:"POST",url:"product/get",data:{availability:t[0]},headers:{access_token:t[1]}})},ee=function(e,t,s){return _({method:"POST",url:"/product/".concat(t,"/update"),data:s,headers:{access_token:e}})},te=s(75);function se(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(0),b=Object(i.a)(j,2),O=b[0],h=b[1],m=Object(n.useRef)(null);Object(n.useEffect)((function(){e.orders.forEach((function(e){u((function(t){return parseInt(t)+e.price})),h((function(t){return parseInt(t)+e.quantity}))}))}),[e.orders]);return Object(n.useEffect)((function(){console.info(a,"export_page number")}),[a]),Object(d.jsx)("div",{style:{height:600,width:"100%"},children:Object(d.jsx)(te.a,{nodeRef:m,rows:e.orders,columns:[{field:"id",headerName:"ID",width:90},{field:"user_name",headerName:"Customer name",width:200,editable:!1},{field:"agent_name",headerName:"Agent name",width:200,editable:!1},{field:"product",headerName:"Product Type",width:140,editable:!1},{field:"delivery_type",headerName:"Delivery Type",description:"Delivery Type.",width:120},{field:"delivery_status",headerName:"Delivery Status",description:"Delivery Status.",width:160},{field:"quantity",headerName:"Quantity",description:"Delivery Type.",width:100},{field:"price",headerName:"Price",description:"Price.",width:100,editable:!0},{field:"modified_at",headerName:"Modified",description:"Delivery Type.",width:200}],pageSize:e.orders.length>30?30:10,rowsPerPageOptions:[10],onSelectionModelChange:function(e){c(e.selectionModel)},disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(d.jsxs)(te.b,{className:te.d.toolbarContainer,children:[Object(d.jsx)(te.c,{}),Object(d.jsxs)("div",{children:[" ","(Total Amount is ",o," for ",O," items)"]})]})}}})})}s(290);var ne=s(32);function ae(){var e=Object(n.useContext)(j),t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),p=v[0],_=v[1],x=Object(n.useState)(!1),y=Object(i.a)(x,2),N=y[0],w=y[1],S=Object(n.useState)(1),k=Object(i.a)(S,2),D=k[0],P=k[1],T=Object(n.useState)([]),E=Object(i.a)(T,2),q=E[0],z=E[1],M=Object(n.useState)([]),R=Object(i.a)(M,2),H=R[0],B=R[1],W=Object(n.useState)([]),J=Object(i.a)(W,2),$=J[0],ee=J[1],te=Object(n.useState)([]),ae=Object(i.a)(te,2),ce=ae[0],re=ae[1],ie=Object(n.useState)(!0),le=Object(i.a)(ie,2),oe=le[0],de=le[1],ue=Object(n.useState)([]),je=Object(i.a)(ue,2),be=je[0],Oe=je[1],he=Object(n.useState)([]),me=Object(i.a)(he,2),fe=me[0],ve=me[1],pe=e.access_token,_e=e.refreshAccessToken,ge=Object(ne.useQuery)([null,pe],g,{onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&re(e.data.data),console.log(ge)},onError:function(e){e&&e.response&&401===e.response.status&&_e()}}).isLoading;Object(ne.useQuery)([0,pe],X,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&Oe(e.data.data)},onError:function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&_e()}}),Object(ne.useQuery)([e.access_token],Y,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&z(e.data.data)},onError:function(e){null!==e&&void 0!==e&&e.response&&401===e.response.status&&_e()}}),Object(n.useEffect)((function(){de(!0),U(pe).then((function(e){ve(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&_e()})),de(!1)}),[pe,_e]);var xe=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),P(t);var s=H.slice(6*(t-1),6*t);ee(s)}),[H]),ye=Object(n.useCallback)((function(){var e=["booked","delivered_morning","delivered_evening","cancelled","intransit","pickedup"],t=function(t){var s=e[t];return s||"Not Available"},s=function(e){var t=ce.find((function(t){return t.user_id===e}));return null===t||void 0===t?void 0:t.name},n=function(e){var t=fe.find((function(t){return t.delivery_type===e}));return t&&t.name},a=function(e){var t=be.find((function(t){return t.product_type===e}));return t&&t.name};B([]),q.forEach((function(e){var c,r={user_id:e.user_id,delivery_id:e.delivery_id,user_name:s(e.user_id),agent_name:s(e.agent_id),delivery_type:n(e.delivery_type),product:a(e.product_type),delivery_status:t(e.delivery_status),quantity:e.quantity,price:e.price,lat:e.lat,lng:e.long,id:e.id,modified_at:(c=e.modified_at,new Date(c).toLocaleString("en-Gb"))};B((function(e){return[].concat(Object(C.a)(e),[r])}))}))}),[q,fe,be,ce]);return Object(n.useEffect)((function(){xe(null,1)}),[H,xe]),Object(n.useEffect)((function(){ye()}),[q,ye]),Object(d.jsx)("div",{className:"main-container",children:oe?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(V,{})," ","  "," My Orders"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return m(!h)},children:h?"Back to Orders":"Export current data"})})]}),h?Object(d.jsx)(A.a,{children:Object(d.jsx)(se,{users:ce,deliveryTypes:fe,products:be,orders:H})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(F,{isVisible:a,clearCurrentUser:function(){c(null)},sortByName:function(){p?(ee($.sort((function(e,t){return e.user_name.localeCompare(t.user_name)}))),_(!p)):(ee($.sort((function(e,t){return t.user_name.localeCompare(e.user_name)}))),_(!p))},sortByProduct:function(e){o?(ee($.sort((function(e,t){return e.product.localeCompare(t.product)}))),u(!o)):(ee($.sort((function(e,t){return t.product.localeCompare(e.product)}))),u(!o))},sortByAgent:function(){N?(ee($.sort((function(e,t){return e.agent_name.localeCompare(t.agent_name)}))),w(!N)):(ee($.sort((function(e,t){return t.agent_name.localeCompare(e.agent_name)}))),w(!N))}}),a?Object(d.jsx)(I,{access_token:pe,order:a}):Object(d.jsxs)("div",{children:[Object(d.jsx)(L,{currentUserSelection:function(e){c(e)},orders:$}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(G.a,{spacing:2,children:Object(d.jsx)(Q.a,{onChange:function(e,t){return xe(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:q.length%6===0?q.length/6:Math.floor(q.length/6)+1,page:D})})})]})]})]})})}var ce=s.p+"static/media/singlePerson.5b613f1e.svg";function re(e){var t=Object(o.h)();return Object(d.jsx)("div",{className:"Users__card-container",children:e.users.map((function(e,s){return Object(d.jsxs)(A.a,{onClick:function(s){return function(e,s){e.preventDefault(),t("/users/".concat(s))}(s,e.user_id)},className:"Users__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Users__customername",children:[Object(d.jsxs)("div",{className:"Users__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("img",{src:ce,alt:"user"})}),"\xa0 User Type"]}),Object(d.jsx)("div",{className:"Users__status ",children:"User"})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__cust-heading",children:"Customer Name"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.name})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Phone"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.phone_no})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__product-id",children:"Email"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.email_id})]}),Object(d.jsxs)("div",{className:"Users__products-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Address"}),Object(d.jsx)("div",{className:"Users__right-column",children:e.address})]}),Object(d.jsxs)("div",{className:"Users__date-address-row",children:[Object(d.jsx)("div",{className:"Users__date",children:"Joined Date"}),Object(d.jsx)("div",{className:"Users__right-column",children:new Date(e.created_at).toLocaleString()})]})]},s)}))})}var ie=s(12),le=s(33),oe=s(10),de=s.n(oe),ue=s(70),je=s(619),be=s(91);function Oe(e){var t=Object(n.useState)(Boolean(e.message)),s=Object(i.a)(t,2),a=s[0],c=s[1];return Object(n.useEffect)((function(){c(!0)}),[e.message]),Object(d.jsx)("div",{children:Object(d.jsx)(je.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:2e3,message:e.message,action:Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(be.a,{onClick:function(e){return function(e){e.preventDefault(),c(!1)}(e)},size:"small","aria-label":"close",color:"inherit",children:"x"})})})})}var he;s(111);function me(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"3",app_token:Object(b.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),m=O[0],f=O[1],v=function(){var e=Object(le.a)(de.a.mark((function e(t){var s,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(ie.a)({},n));case 5:if(!g.length){e.next=7;break}return e.abrupt("return");case 7:w();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(ue.a)(),_=p.register,g=p.formState.errors,N=p.handleSubmit,w=function(){var t={user:a,access_token:e.access_token};x(t).then((function(e){u(e.data.code)})).catch((function(e){console.log("Failed",e.response),f("Failed")}))},S=function(t){var s={verify_code:o,otp:t.otp};y(s).then((function(t){f("successfully saved"),setTimeout((function(){e.addUserClicked()}),1e3)})).catch((function(e){f("Failed to saved"),console.log(e.response)}))};return Object(d.jsxs)("div",{className:"Users__sub-container",children:[o?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:N((function(e){g.length||S(e)})),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},_("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:N(v),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[g.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},_("name",{required:!0,min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.email_id&&Object(d.jsx)("span",{className:"Users__errors",children:g.email_id.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},_("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.phone_no&&Object(d.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},_("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.address&&Object(d.jsx)("span",{className:"Users__errors",children:g.address.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},_("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.password&&Object(d.jsx)("span",{className:"Users__errors",children:g.password.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},_("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{disabled:o,className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),m&&Object(d.jsx)(Oe,{message:m})]})}var fe=["title","titleId"];function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ve.apply(this,arguments)}function pe(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function _e(e,t){var s=e.title,a=e.titleId,c=pe(e,fe);return n.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,he||(he=n.createElement("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})))}var ge=n.forwardRef(_e);s.p;function xe(){var e=Object(n.useContext)(j),t=Object(n.useState)(!0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)(1),v=Object(i.a)(f,2),p=v[0],_=v[1],x=Object(n.useState)([]),y=Object(i.a)(x,2),N=y[0],w=y[1],S=Object(ne.useQuery)([3,e.access_token],g,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&u(e.data.data),c(!1)},onError:function(t){t&&t.response&&401===t.response.status&&(c(!0),e.refreshAccessToken())}}).refetch,k=Object(n.useCallback)((function(e,t){e&&e.preventDefault(),_(t);var s=o.slice(6*(t-1),6*t);return w(s)}),[o]);Object(n.useEffect)((function(){k(null,1)}),[o,k]);var D=function(e){e&&e.preventDefault(),m(!h),!0===h&&S()};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(ge,{})," ","  "," Users"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return D(e)},children:h?"Cancel Adding":"Add new User"})})]}),a?Object(d.jsxs)("div",{className:"Users__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)("div",{children:h?Object(d.jsx)(me,{addUserClicked:D,access_token:e.access_token}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(re,{users:N}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(G.a,{spacing:2,children:Object(d.jsx)(Q.a,{onChange:function(e,t){return k(e,t)},variant:"outlined",color:"primary",boundaryCount:2,count:o.length%6===0?o.length/6:Math.floor(o.length/6)+1,page:p})})})]})})]})}var ye=s(311),Ne=s.n(ye),we=s(317),Se=s(312),ke=s(617),De=s(623),Ce=s(615),Ae=s(103),Pe=s(622),Le=(s(299),s(612)),Ue=s(324),Te=s.p+"static/media/unchecked.3fb05906.svg",Ee=s.p+"static/media/checked.4f7f3053.svg",Ie=Object(d.jsx)("img",{src:Te,alt:"dsd",fontSize:"small"}),qe=Object(d.jsx)("img",{src:Ee,alt:"dsds",fontSize:"small"});function ze(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken,o=e.handlePData;return Object(ne.useQuery)([1,r],X,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&c(e.data.data)},onError:function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&l()}}),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(Le.a,{id:"checkboxes-tags-demo",onChange:function(e,t){return o(e,t)},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(ie.a)(Object(ie.a)({},e),{},{children:[Object(d.jsx)(Ue.a,{icon:Ie,checkedIcon:qe,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(m.a,Object(ie.a)(Object(ie.a)({},e),{},{label:"Select Products",placeholder:"products"}))}})})}var Fe=Object(d.jsx)("img",{src:Te,alt:"dsd",fontSize:"small"}),Me=Object(d.jsx)("img",{src:Ee,alt:"dsds",fontSize:"small"});function Re(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken,o=Object(ne.useQuery)([2,r],g,{onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&c(e.data.data),console.log(o)},onError:function(e){e&&e.response&&401===e.response.status&&l()}}).isLoading;return Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(Le.a,{onChange:function(t,s){return e.handleData(t,s.user_id,"agent")},id:"checkboxes-tags-demo",options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(ie.a)(Object(ie.a)({},e),{},{children:[Object(d.jsx)(Ue.a,{icon:Fe,checkedIcon:Me,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(m.a,Object(ie.a)(Object(ie.a)({},e),{},{label:"Select Agents",placeholder:"Agents"}))}})})}var He=Object(d.jsx)("img",{src:Te,alt:"dsd",fontSize:"small"}),Be=Object(d.jsx)("img",{src:Ee,alt:"dsds",fontSize:"small"});function Ve(e){var t=Array(100).fill().map((function(e,t){return t+1}));return Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(Le.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s,"quantity")},options:t,getOptionLabel:function(e){return e.toString()},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(ie.a)(Object(ie.a)({},e),{},{children:[Object(d.jsx)(Ue.a,{icon:He,checkedIcon:Be,style:{marginRight:8},checked:n}),t]}))},renderInput:function(t){return Object(d.jsx)(m.a,Object(ie.a)(Object(ie.a)({},t),{},{label:e.measurement||"Select quantity",placeholder:"quantity"}))}})})}var Qe=Object(d.jsx)("img",{src:Te,alt:"dsd",fontSize:"small"}),Ge=Object(d.jsx)("img",{src:Ee,alt:"dsds",fontSize:"small"});function We(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.refreshAccessToken;return Object(n.useEffect)((function(){U(r).then((function(e){c(e.data.data)})).catch((function(e){e&&e.response&&401===e.response.status&&l()}))}),[r,l]),Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(Le.a,{id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s.delivery_type,"delivery_type")},options:a,getOptionLabel:function(e){return e.name},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(ie.a)(Object(ie.a)({},e),{},{children:[Object(d.jsx)(Ue.a,{icon:Qe,checkedIcon:Ge,style:{marginRight:8},checked:n}),t.name]}))},renderInput:function(e){return Object(d.jsx)(m.a,Object(ie.a)(Object(ie.a)({},e),{},{label:"Select deliver type",placeholder:"delivery_type"}))}})})}function Je(e){var t=Object(n.useContext)(j),s=Object(n.useState)(!1),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],b=o[1],O=Object(n.useState)(0),h=Object(i.a)(O,2),m=h[0],f=h[1],v=Object(n.useState)({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),p=Object(i.a)(v,2),_=p[0],g=p[1],x=["Select Agent","Select Product","Select Quantity","Select Delivery type"];var y=function(t,s,n){t&&t.preventDefault(),"agent"===n&&g(Object(ie.a)(Object(ie.a)({},_),{},{agent_id:s,users:e.currUser})),"delivery_type"===n&&g(Object(ie.a)(Object(ie.a)({},_),{},{delivery_type:s})),"quantity"===n&&g(Object(ie.a)(Object(ie.a)({},_),{},{quantity:s})),b(!0)},N=function(e,t){e.preventDefault(),g(Object(ie.a)(Object(ie.a)({},_),{},{price:t.price,product_type:t.product_type,measurement:t.measurement||""})),b(!0)};return Object(d.jsx)("div",{className:"Users__main-container",children:c?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})," "]}):Object(d.jsxs)(A.a,{className:"AssignUsers__sub",elevation:2,children:[Object(d.jsx)(ke.a,{alternativeLabel:!0,activeStep:m,children:x.map((function(e,t){return Object(n.createElement)(De.a,Object(ie.a)(Object(ie.a)({},{}),{},{key:t}),Object(d.jsx)(Ce.a,Object(ie.a)(Object(ie.a)({},{}),{},{children:e})))}))}),m===x.length?Object(d.jsx)(Pe.a,{variant:"h4",align:"center",children:"Agent Assigned to User Successfully"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("form",{children:function(e){switch(e){case 0:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Re,{access_token:t.access_token,refreshAccessToken:t.refreshAccessToken,handleData:y})});case 1:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ze,{handlePData:N,refreshAccessToken:t.refreshAccessToken,access_token:t.access_token})});case 2:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ve,{measurement:_.measurement||"",handleData:y,refreshAccessToken:t.refreshAccessToken,access_token:t.access_token})});case 3:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(We,{handleData:y,refreshAccessToken:t.refreshAccessToken,access_token:t.access_token})});default:return"unknown step"}}(m)}),Object(d.jsx)(Ae.a,{disabled:0===m,onClick:function(){f(m-1)},children:"Back"}),Object(d.jsx)(Ae.a,{className:"",variant:"contained",disabled:!u,color:"primary",onClick:function(e){return m===x.length-1?function(e){e.preventDefault(),r(!0);var s=[];s.push({user_id:_.users.user_id,quantity:_.quantity,delivery_type:_.delivery_type,product_type:_.product_type,price:_.price});var n={agent_id:_.agent_id,assignlist:s};$(t.access_token,n).then((function(e){g({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),f(0),r(!1),alert("successfully saved")})).catch((function(e){r(!1),alert("Please try again")}))}(e):(u&&f(m+1),void b(!1))},children:m===x.length-1?"Submit":"Next"})]})]})})}function Ke(e){var t=Object(n.useState)({name:"",email_id:"",address:"",user_type:"3",customer_user_id:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=function(){var e=Object(le.a)(de.a.mark((function e(t){var s;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign(a,t),e.next=3,c(Object(ie.a)({},s));case 3:if(!h.length){e.next=5;break}return e.abrupt("return");case 5:v();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=Object(ue.a)(),O=b.register,h=b.formState.errors,m=b.handleSubmit,f=b.reset;Object(n.useEffect)((function(){f({name:e.currUser.name,address:e.currUser.address,email_id:e.currUser.email_id})}),[e.currUser.name,e.currUser.address,e.currUser.email_id,f]);var v=function(t){(function(e){return _({method:"POST",url:"user/update",data:{name:e.name,email_id:e.email_id,address:e.address,customer_user_id:e.customer_user_id},headers:{access_token:e.access_token}})})({name:a.name,email_id:a.email_id,address:a.address,access_token:e.access_token,customer_user_id:e.currUser.user_id}).then((function(e){u("successfully saved")})).catch((function(e){u("Failed to saved"),console.log(e.response)}))};return Object(d.jsxs)("div",{className:"Users__sub-container",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:m(j),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[h.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},O("name",{required:!0,min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[h.email_id&&Object(d.jsx)("span",{className:"Users__errors",children:h.email_id.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},O("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[h.address&&Object(d.jsx)("span",{className:"Users__errors",children:h.address.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},O("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:h.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Save User Details"})})]})}),o&&Object(d.jsx)(Oe,{message:o})]})}function Ze(){var e=Object(n.useContext)(j),t=Object(o.h)(),s=Object(n.useState)(!0),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(n.useState)(null),u=Object(i.a)(l,2),b=u[0],O=u[1],h=e.access_token,m=e.refreshAccessToken,f=Object(n.useState)(""),v=Object(i.a)(f,2),p=v[0],_=v[1],x=Object(n.useState)(),y=Object(i.a)(x,2),N=y[0],w=y[1],k=Object(n.useState)([]),D=Object(i.a)(k,2),C=D[0],P=D[1],L=Object(n.useState)([]),T=Object(i.a)(L,2),E=T[0],I=T[1],q=Object(n.useState)([]),z=Object(i.a)(q,2),F=z[0],M=z[1];Object(ne.useQuery)([3,e.access_token],g,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&w(e.data.data.find((function(e){return e.user_id===b}))),setTimeout((function(){r(!1)}),2e3)},onError:function(e){e&&e.response&&401===e.response.status&&(r(!0),m())}}),Object(ne.useQuery)([h,null],Y,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&P(e.data.data.filter((function(e){return e.user_id===b})))}}),Object(ne.useQuery)([0,h],X,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&M(e.data.data)},onError:function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&m()}}),Object(n.useEffect)((function(){U(h).then((function(e){I(e.data.data)})).catch((function(e){console.log(e),e&&e.response&&401===e.response.status&&m()}))}),[h,m]),Object(n.useEffect)((function(){var e=function(){var e=Object(le.a)(de.a.mark((function e(){var t,s,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={errorCorrectionLevel:"H",type:"application/octet-stream",quality:1,margin:1,color:{dark:"#000",light:"#FFF"}},O(window.location.pathname.split("/")[2]),e.next=5,Ne.a.toDataURL(b,t);case 5:s=e.sent,n=s.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),_(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[b,h,m]);var R=function(e){var t=E.find((function(t){return t.delivery_type===e}));return t&&t.name},H=function(e){var t=F.find((function(t){return t.product_type===e}));return t&&t.name};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(ge,{})," ","  "," Users"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e.preventDefault(),t("/users/".concat(b,"/history"))}(e)},children:"Show History"})})]}),c?Object(d.jsxs)("div",{className:"Agents__spinners",children:[Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(A.a,{className:"AssignUsers__sub",elevation:2,children:[Object(d.jsxs)("div",{style:{backgroundColor:"white"},id:"chaiuserqr",children:[Object(d.jsx)("img",{className:"Users__logo-image",src:S,alt:"this is logo"})," ",Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[p?Object(d.jsx)("div",{children:Object(d.jsx)("img",{width:"350px",height:"350px",src:p,alt:"img"})}):null,N&&N.address]})]}),Object(d.jsx)("div",{className:"Users__refresh-button ",onClick:function(){Object(we.a)(document.getElementById("chaiuserqr")).then((function(e){Object(Se.saveAs)(e,N.name+"qrcode.jpg")}))},children:"Customer Unique Scan Code - Download"})," "]}),Object(d.jsxs)(A.a,{className:"Users__top",children:[Object(d.jsx)("h4",{children:"Existing Delivery Details:"}),C.map((function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("hr",{}),Object(d.jsxs)("div",{children:["Selected Product: ",H(e.product_type)," "]}),Object(d.jsxs)("div",{children:["Selected DeliveryType: ",R(e.delivery_type)]}),Object(d.jsxs)("div",{children:["Selected Quantity ",e.quantity]})]})}))]}),Object(d.jsx)(Je,{currUser:N}),Object(d.jsx)(Ke,{access_token:h,currUser:N})]})]})}function $e(e){var t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(0),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(0),b=Object(i.a)(j,2),O=b[0],h=b[1],m=Object(n.useRef)(null);Object(n.useEffect)((function(){e.historyData.forEach((function(e){u((function(t){return parseInt(t)+e.price})),h((function(t){return parseInt(t)+e.quantity}))}))}),[e.historyData]);return Object(n.useEffect)((function(){console.info(a,"export_page number")}),[a]),Object(d.jsx)("div",{style:{height:600,width:"100%"},children:Object(d.jsx)(te.a,{nodeRef:m,rows:e.historyData,columns:[{field:"id",headerName:"ID",width:90},{field:"user_name",headerName:"Customer name",width:200},{field:"product",headerName:"Product",width:140},{field:"delivery_type",headerName:"Delivery Type",description:"Delivery Type.",width:120},{field:"quantity",headerName:"Quantity",description:"Delivery Type.",width:100},{field:"price",headerName:"Price",description:"Price.",width:100,editable:!0},{field:"delivered_at",headerName:"Delivered",description:"Delivery Time.",width:200}],pageSize:30,rowsPerPageOptions:[10],onSelectionModelChange:function(e){c(e.selectionModel)},disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(d.jsxs)(te.b,{className:te.d.toolbarContainer,children:[Object(d.jsx)(te.c,{}),Object(d.jsxs)("div",{children:[" ","(Total Amount is ",o," for ",O," items)"]})]})}}})})}function Ye(e){var t=Object(n.useState)(new Date(Date.now()-864e5).toISOString()),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)((new Date).toISOString()),l=Object(i.a)(r,2),u=l[0],b=l[1],O=Object(n.useState)([]),h=Object(i.a)(O,2),f=h[0],v=h[1],p=Object(n.useState)(!0),_=Object(i.a)(p,2),g=(_[0],_[1]),x=Object(n.useState)(null),y=Object(i.a)(x,2),N=y[0],w=y[1],S=Object(n.useContext)(j),k=S.access_token,D=Object(o.h)(),P=function(e){e.forEach((function(e,t){var s={id:t+1,user_name:e.UserDetail.name,delivery_type:e.DeliveryType.name,product:e.Product.name,quantity:e.quantity,price:e.price,delivered_at:new Date(e.delivered_at).toLocaleString("en-Gb")};v((function(e){return[].concat(Object(C.a)(e),[s])}))}))};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(ge,{})," ","  "," Users"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){D(-1)},children:"Show User Details"})})]}),Object(d.jsxs)(A.a,{className:"Users__top",children:["Customer History Data",Object(d.jsx)("div",{className:"Users__fromdate",children:Object(d.jsx)(m.a,{id:"fromdate",label:"From Date",type:"date",onChange:function(e){return function(e){e.preventDefault();var t=new Date(e.target.value).toISOString();c(t)}(e)},defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})}),Object(d.jsx)("div",{className:"Users__fromdate",children:Object(d.jsx)(m.a,{id:"todate",label:"To Date",type:"date",onChange:function(e){return function(e){e.preventDefault();var t=new Date(e.target.value).toISOString();b(t)}(e)},defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0,max:(new Date).toLocaleDateString("fr-CA")}})}),Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){v([]),g(!0),e.preventDefault();var t=window.location.pathname.split("/")[2];t&&E(k,{customer_user_id:[t],from:a,to:u}).then((function(e){P(e.data.data),g(!1),w("Data Fetched")})).catch((function(e){e&&e.response&&401===e.response.status&&(g(!0),w("Refreshing"),S.refreshAccessToken()),g(!1),w("No Data Available for Dates ")}))}(e)},children:"Submit"})," "]}),Object(d.jsx)(A.a,{children:Object(d.jsx)($e,{historyData:f})}),N&&Object(d.jsx)(Oe,{message:N})]})}function Xe(e){var t,s=Object(n.useState)(e.products),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(o.h)();return Object(d.jsx)("div",{className:"Products__card-box",children:Object(d.jsxs)(A.a,{className:"Products__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Products__customername",children:[Object(d.jsx)("div",{onClick:function(t){return function(t){var s=0===c.availability?1:0;t.preventDefault(),r(Object(ie.a)(Object(ie.a)({},c),{},{availability:s}));var n={availability:s.toString()};ee(e.access_token,c.id,n)}(t)},className:"Products__status "+(t=c.availability,1===t?"Products__available":0===t?"Orders__yellow":"Orders__grey"),children:1===c.availability?"Available":"Not available"}),Object(d.jsx)("div",{onClick:function(e){return function(e,t){e.preventDefault(),l("/products/".concat(t))}(e,c.id)},className:"Products__status Products__edit-product",children:"Edit Product"})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__cust-heading",children:"Name"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.name})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__date",children:"Description"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.description})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__product-id",children:"Price"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.price})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__product-id",children:"Measurement"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.measurement||"packet"})]}),Object(d.jsxs)("div",{className:"Products__products-row",children:[Object(d.jsx)("div",{className:"Products__date",children:"Product Type"}),Object(d.jsx)("div",{className:"Products__right-column",children:c.product_type})]})]})})}var et,tt;s(199);function st(e){var t=Object(n.useState)({name:"",description:"",price:"",measurement:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(){var e=Object(le.a)(de.a.mark((function e(t){var s;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object.assign(a,t),c(Object(ie.a)({},s)),!u.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,b();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=Object(ue.a)(),o=l.register,u=l.formState.errors,j=l.handleSubmit,b=function(){(function(e){return _({method:"POST",url:"product/add",data:e.product,headers:{access_token:e.access_token}})})({product:a,access_token:e.access_token}).then((function(t){alert("success"),setTimeout((function(){e.toggleAddProduct(!1)}),2e3)})).catch((function(e){console.log("Failed",e.response),alert("Failed")}))};return Object(d.jsx)("div",{className:"Products__sub-container",children:Object(d.jsxs)("form",{onSubmit:j(r),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[u.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 3 characters"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},o("name",{required:"required",minLength:{value:3,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[u.price&&Object(d.jsx)("div",{className:"Users__errors",children:"This field is required"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",placeholder:"Price",type:"number"},o("price",{required:"required",min:1}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[u.description&&Object(d.jsx)("div",{className:"Users__errors",children:'Please enter a valid description min 8 char"'}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"description",placeholder:"Description"},o("description",{required:"required",min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[u.measurement&&Object(d.jsx)("div",{className:"Users__errors",children:'Please enter a valid measurement Kg/packet/Litre"'}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"measurement",placeholder:"measurement"},o("measurement",{required:"required",min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:u.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New Product"})})]})})}var nt=["title","titleId"];function at(){return at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},at.apply(this,arguments)}function ct(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function rt(e,t){var s=e.title,a=e.titleId,c=ct(e,nt);return n.createElement("svg",at({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-card-checklist",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,et||(et=n.createElement("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"})),tt||(tt=n.createElement("path",{d:"M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"})))}var it=n.forwardRef(rt);s.p;function lt(){var e=Object(n.useContext)(j),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)(1),v=Object(i.a)(f,1)[0],p=e.access_token,_=e.refreshAccessToken,g=Object(ne.useQuery)([0,p],X,{retry:1,onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&u(e.data.data),c(!1)},onError:function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(c(!0),_())}}).refetch;return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(it,{})," ","  "," Products"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e&&e.preventDefault(),m(!h),g()}(e)},children:h?"Cancel Adding":"Add new Product"})})]}),a?Object(d.jsxs)("div",{className:"Products__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"Products__card-container",children:h?Object(d.jsx)(st,{toggleAddProduct:m,access_token:e.access_token}):Object(d.jsx)(d.Fragment,{children:o.map((function(t,s){return Object(d.jsx)(Xe,{access_token:e.access_token,products:t},s)}))})}),Object(d.jsx)("div",{className:h?"Orders__pagination Orders__pagination-none":"Orders__pagination",children:Object(d.jsx)(G.a,{spacing:2,children:Object(d.jsx)(Q.a,{variant:"outlined",color:"primary",boundaryCount:2,count:o.length%2===0?o.length/2:Math.floor(o.length/2)+1,page:v})})})]})]})}function ot(){var e=Object(o.h)(),t=Object(n.useContext)(j),s=t.access_token,a=t.refreshAccessToken,c=Object(n.useState)(!1),r=Object(i.a)(c,2),l=r[0],u=r[1],b=Object(n.useState)(null),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)({name:"",description:"",price:"",measurement:""}),v=Object(i.a)(f,2),p=v[0],_=v[1],g=function(){var e=Object(le.a)(de.a.mark((function e(t){var s;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object.assign(p,t),_(Object(ie.a)({},s)),!N.length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,k();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(ue.a)(),y=x.register,N=x.formState.errors,w=x.handleSubmit,S=x.reset,k=function(){ee(s,h.id,p).then((function(t){alert("success"),e("/products")})).catch((function(e){console.log("Failed",e.response),alert("Failed")}))};Object(ne.useQuery)([0,s],X,{retry:2,onSuccess:function(e){var t;(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)&&D(e.data.data),u(!1)},onError:function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(u(!0),a())}});var D=function(e){var t=window.location.pathname.split("/")[2];if(t){var s=e.find((function(e){return e.id===t}));m(s),S({name:s.name,price:s.price,description:s.description,measurement:s.measurement})}};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(it,{})," ","  "," Edit Product"]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"Users__refresh-button",onClick:function(t){return function(t){t.preventDefault(),e("/products")}(t)},children:[" ","Back to Products"]})})]}),l?Object(d.jsxs)("div",{className:"Products__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)("div",{className:"Products__sub-container",children:Object(d.jsxs)("form",{onSubmit:w(g),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[N.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 3 characters"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},y("name",{required:"required",minLength:{value:3,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[N.price&&Object(d.jsx)("div",{className:"Users__errors",children:"This field is required"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",placeholder:"Price",type:"number"},y("price",{required:"required",min:1}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[N.description&&Object(d.jsx)("div",{className:"Users__errors",children:'Please enter a valid description min 8 char"'}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"description",placeholder:"Description"},y("description",{required:"required",min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[N.measurement&&Object(d.jsx)("div",{className:"Users__errors",children:'Please enter a valid measurement Kg/packet/Litre"'}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"measurement",placeholder:"measurement"},y("measurement",{required:"required",min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:N.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Save Product"})})]})})]})}function dt(e){var t=Object(o.h)();return Object(d.jsx)("div",{className:"Agents__card-container",children:e.agents.map((function(e,s){return Object(d.jsxs)(A.a,{onClick:function(s){return function(e,s){e.preventDefault(),t("/agents/".concat(s))}(s,e.user_id)},className:"Agents__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Agents__customername",children:[Object(d.jsxs)("div",{className:"Agents__cust-id",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 User Type"]}),Object(d.jsx)("div",{className:"Agents__status ",children:"Agent"})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__cust-heading",children:"Agent Name"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.name})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Phone"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.phone_no})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__product-id",children:"Email"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.email_id})]}),Object(d.jsxs)("div",{className:"Agents__products-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Address"}),Object(d.jsx)("div",{className:"Agents__right-column",children:e.address})]}),Object(d.jsxs)("div",{className:"Agents__date-address-row",children:[Object(d.jsx)("div",{className:"Agents__date",children:"Joined Date"}),Object(d.jsx)("div",{className:"Agents__right-column",children:new Date(e.created_at).toLocaleString()})]})]},s)}))})}var ut,jt;s(300);function bt(e){var t=Object(n.useState)({name:"",email_id:"",phone_no:"",password:"",address:"",user_type:"2",app_token:Object(b.a)()}),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(n.useState)(null),O=Object(i.a)(j,2),m=O[0],f=O[1],v=function(){var e=Object(le.a)(de.a.mark((function e(t){var s,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=h.a.sign({data:t.password,timestamp:(new Date).toISOString()},"xeo9tcj5xyvqoghxm6wtbh6hfiamm3ji7ain02oa9lzu51"),t.password=s,n=Object.assign(a,t),e.next=5,c(Object(ie.a)({},n));case 5:if(!g.length){e.next=7;break}return e.abrupt("return");case 7:w();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(ue.a)(),_=p.register,g=p.formState.errors,N=p.handleSubmit,w=function(){var t={user:a,access_token:e.access_token};x(t).then((function(e){u(e.data.code)})).catch((function(e){console.log("Failed",e.response),f("Failed")}))},S=function(t){var s={verify_code:o,otp:t.otp};y(s).then((function(t){f("successfully saved"),setTimeout((function(){e.addAgentClicked()}),2e3)})).catch((function(e){f("Failed to saved"),console.log(e.response)}))};return Object(d.jsxs)("div",{className:"Users__sub-container",children:[o?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{onSubmit:N((function(e){g.length||S(e)})),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"number",placeholder:"Enter OTP"},_("otp",{required:"required",minLength:{value:4,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Submit"})})]})}):Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:N(v),children:[Object(d.jsxs)("div",{className:"Login__col-3",children:[g.name&&Object(d.jsx)("div",{className:"Users__errors",children:"Name needs to be at least 5 characters"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Name"},_("name",{required:!0,min:5}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.email_id&&Object(d.jsx)("span",{className:"Users__errors",children:g.email_id.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Email"},_("email_id",{required:"required",pattern:{value:/\S+@\S+\.\S+/,message:"Entered value does not match email format"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.phone_no&&Object(d.jsx)("span",{className:"Users__errors",children:"Please enter phone number"}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",placeholder:"Phone Number",type:"number"},_("phone_no",{required:!0,pattern:/^[6789]\d{9}$/}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.address&&Object(d.jsx)("span",{className:"Users__errors",children:g.address.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Address"},_("address",{required:"required",minLength:{value:8,message:"Please enter full address"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsxs)("div",{className:"Login__col-3",children:[g.password&&Object(d.jsx)("span",{className:"Users__errors",children:g.password.message}),Object(d.jsx)("input",Object(ie.a)({className:"Login__input-focus-effect",type:"text",placeholder:"Password"},_("password",{required:"required",minLength:{value:8,message:"Please enter a valid password min 8 char"}}))),Object(d.jsx)("span",{className:"focus-border"})]}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{disabled:o,className:g.length?"Users__refresh-button Users__refresh-button-disabled":"Users__refresh-button",type:"submit",value:"Add New User"})})]})}),m&&Object(d.jsx)(Oe,{message:m})]})}var Ot=["title","titleId"];function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ht.apply(this,arguments)}function mt(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ft(e,t){var s=e.title,a=e.titleId,c=mt(e,Ot);return n.createElement("svg",ht({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"bi bi-person-square",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,ut||(ut=n.createElement("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})),jt||(jt=n.createElement("path",{d:"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"})))}var vt=n.forwardRef(ft);s.p;function pt(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(!0),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)(1),v=Object(i.a)(f,1)[0],p=Object(ne.useQuery)([2,e.access_token],g,{onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&c(e.data.data),m(!1)},onError:function(t){t&&t.response&&401===t.response.status&&(m(!0),e.refreshAccessToken())}}).refetch,_=function(e){e&&e.preventDefault(),u(!o),!0===o&&p()};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(vt,{})," ","  "," Agents"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return _(e)},children:o?"Cancel Adding":"Add new Agent"})})]}),h?Object(d.jsxs)("div",{className:"Agents__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)("div",{children:o?Object(d.jsx)(bt,{addAgentClicked:_,access_token:e.access_token}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(dt,{agents:a}),Object(d.jsx)("div",{className:"Orders__pagination",children:Object(d.jsx)(G.a,{spacing:2,children:Object(d.jsx)(Q.a,{variant:"outlined",color:"primary",boundaryCount:2,count:a.length%6===0?a.length/6:Math.floor(a.length/6)+1,page:v})})})]})})]})}function _t(){var e=Object(n.useContext)(j),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],b=e.access_token,O=Object(n.useState)(new Date(Date.now()-864e5).toISOString()),h=Object(i.a)(O,2),f=h[0],v=h[1],p=Object(n.useState)(null),_=Object(i.a)(p,2),g=_[0],x=_[1],y=Object(n.useState)((new Date).toISOString()),N=Object(i.a)(y,2),w=N[0],S=N[1],k=function(e){e.forEach((function(e,t){var s={id:t+1,user_name:e.UserDetail.name,delivery_type:e.DeliveryType.name,product:e.Product.name,quantity:e.quantity,price:e.price,delivered_at:new Date(e.delivered_at).toLocaleString("en-Gb")};u((function(e){return[].concat(Object(C.a)(e),[s])}))}))};return Object(d.jsxs)("div",{className:"main-container",children:[a?Object(d.jsxs)("div",{className:"Agents__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(A.a,{className:"Users__top",children:["Agent History Data",Object(d.jsx)("div",{className:"Users__fromdate",children:Object(d.jsx)(m.a,{id:"fromdate",label:"From Date",type:"date",onChange:function(e){return function(e){e.preventDefault();var t=new Date(e.target.value).toISOString();v(t)}(e)},defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})}),Object(d.jsx)("div",{className:"Users__fromdate",children:Object(d.jsx)(m.a,{id:"todate",label:"To Date",type:"date",onChange:function(e){return function(e){e.preventDefault();var t=new Date(e.target.value).toISOString();S(t)}(e)},defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0,max:(new Date).toLocaleDateString("fr-CA")}})}),Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(t){return function(t){u([]),c(!0),t.preventDefault();var s=window.location.pathname.split("/")[2];s&&E(b,{agent_id:[s],from:f,to:w}).then((function(e){k(e.data.data),c(!1),x("Data Fetched")})).catch((function(t){t&&t.response&&401===t.response.status&&(c(!0),x("Refreshing"),e.refreshAccessToken()),c(!1),x("No Data Available for Dates ")}))}(t)},children:"Submit"})," "]}),Object(d.jsx)(A.a,{children:Object(d.jsx)($e,{historyData:o})})]}),g&&Object(d.jsx)(Oe,{message:g})]})}s(531);function gt(){var e=Object(n.useContext)(j),t=Object(n.useState)(!0),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.userDetails,o=Object(n.useState)({name:"",email_id:"",phone_no:"",address:""}),u=Object(i.a)(o,2),b=u[0],O=u[1],h=function(e){e.preventDefault(),c(!a)};Object(n.useEffect)((function(){O((function(e){return Object(ie.a)(Object(ie.a)({},e),l)}))}),[l]);var m=function(e,t){e.preventDefault(),e.persist(),a||("name"===t&&O(Object(ie.a)(Object(ie.a)({},b),{},{name:e.target.value})),"email"===t&&O(Object(ie.a)(Object(ie.a)({},b),{},{email_id:e.target.value})))},f=function(t){(function(e){return _({method:"POST",url:"user/update",data:{name:e.name,email_id:e.email_id},headers:{access_token:e.access_token}})})({name:b.name,email_id:b.email_id,address:b.address,access_token:r}).then((function(t){e.saveuserDetails(t.data),alert("Successfully saved")}))};return Object(d.jsxs)("div",{className:"Settings__main-container",children:[Object(d.jsxs)("div",{className:"Settings__heading-container",children:[Object(d.jsx)("div",{onClick:function(e){return h(e)},className:a?"Settings__heading-left Settings__heading-left-selected":"Settings__heading-left",children:"Profile"}),Object(d.jsx)("div",{onClick:function(e){return h(e)},className:a?"Settings__heading-right":"Settings__heading-right Settings__heading-right-selected",children:"Edit Profile"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Name"}),Object(d.jsx)("input",{value:b.name,onChange:function(e){return m(e,"name")},className:"Settings__firstname",type:"text",placeholder:"Name",name:"firstName"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Email"}),Object(d.jsx)("input",{onChange:function(e){return m(e,"email")},value:b.email_id,type:"text",className:"Settings__firstname"})]}),a&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Phone"}),Object(d.jsx)("input",{readOnly:!0,value:b.phone_no,type:"text",className:"Settings__email"})]}),Object(d.jsxs)("div",{className:"Settings__field-container",children:[Object(d.jsx)("label",{className:"Settings__label",children:"Address"}),Object(d.jsx)("input",{onChange:function(e){return m(e,"email")},value:b.address||"",type:"text",className:"Settings__firstname"})]})]}),!a&&Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"Settings__field-container",children:Object(d.jsx)("input",{onClick:function(e){return f()},value:"Save",type:"submit",className:"Settings__submit"})})})]})}var xt,yt=s(160),Nt=(s(532),["title","titleId"]);function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},wt.apply(this,arguments)}function St(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function kt(e,t){var s=e.title,a=e.titleId,c=St(e,Nt);return n.createElement("svg",wt({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-graph-up-arrow",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,xt||(xt=n.createElement("path",{fillRule:"evenodd",d:"M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z"})))}var Dt=n.forwardRef(kt),Ct=(s.p,{type:"bar",data:{labels:["25th","26th","27th","28th","29th","30th"],datasets:[{label:"# of Votes",data:[22,23,23,25,21,28],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{min:16}},barThickness:30,barPercentage:.5,borderRadius:5}}),At={type:"bar",data:{labels:["cow","buffallo","Ghee"],datasets:[{label:"# of Votes",data:[122,99,23],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},options:{scales:{y:{min:19}},barThickness:50,barPercentage:.8,borderRadius:5}},Pt={type:"doughnut",data:{labels:["agent 1","agent 2","agent 3","agent 4"],datasets:[{label:"Dataset 1",data:[5,23,10,6],backgroundColor:["red","orange","yellow","green"].map((function(e){return e}))}]},options:{cutout:"80%",responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Pie Chart"}}}};function Lt(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(n.useRef)(null),r=Object(n.useRef)(null),l=Object(n.useRef)(null),o=function(e,t){s.data.datasets[e].data=t,s.update()};return Object(n.useEffect)((function(){c&&c.current&&new yt.a(c.current,Pt)}),[c]),Object(n.useEffect)((function(){if(r&&r.current){var e=new yt.a(r.current,Ct);a(e)}}),[r]),Object(n.useEffect)((function(){if(l&&l.current){var e=new yt.a(l.current,At);a(e)}}),[l]),Object(d.jsxs)("div",{className:"Statistics__main-container main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(Dt,{})," ","  "," Admin Panel"]}),Object(d.jsx)("div",{})]}),Object(d.jsx)("form",{className:"",noValidate:!0,children:Object(d.jsx)(m.a,{id:"date",label:"Date ",type:"date",defaultValue:(new Date).toLocaleDateString("fr-CA"),InputLabelProps:{shrink:!0}})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{onClick:function(e){o(0,[15,39,13,5,2,38])},children:[Object(d.jsx)("br",{}),"Daily Milk Delivery Quantity (total delivered on this date)",Object(d.jsx)("canvas",{ref:r})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),"Per Agent Milk Delivery Quantity (total delivered by selected Agent today/any day selection from Calender drop down)"]}),Object(d.jsx)("div",{className:"Statistics__donough",children:Object(d.jsx)("canvas",{ref:c})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})," Daily Milk Delivery Quantity by Type last month (cow/buffallo / ghee)"]}),Object(d.jsx)("canvas",{ref:l})]})]})}var Ut=s(627),Tt=s(628),Et=s(629),It=s(621),qt=s(313),zt=s.n(qt);s(537);function Ft(e){var t=Object(o.h)(),s=Object(n.useState)(null),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),b=u[0],O=u[1],h=Object(n.useContext)(j),m=Object(n.useState)(!1),f=Object(i.a)(m,2),v=f[0],p=f[1],g=h.access_token,x=Object(n.useState)({lat:0,long:0}),y=Object(i.a)(x,2),N=y[0],w=y[1],S=function(){var s=Object(le.a)(de.a.mark((function s(n){var a;return de.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(n){s.next=2;break}return s.abrupt("return");case 2:if(p(!0),n!==e.currentUser.user_id){s.next=12;break}return a={listDeliveries:[{delivery_id:e.currentUser.delivery_id||"na",delivery_type:e.currentUser.del_type||"na",product_type:e.currentUser.product_type,quantity:c||e.currentUser.quantity,user_id:n,delivery_date:(new Date).toISOString()}]},s.next=7,O(n);case 7:return s.next=9,T(a,g).then((function(s){alert("success"),e.clearCurrentUser(),t("/")})).catch((function(e){alert("failed")}));case 9:p(!1),s.next=14;break;case 12:alert("Wrong User Selected"),p(!1);case 14:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),k=function(t){t.preventDefault();navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;w({lat:t.latitude,long:t.longitude}),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),function(e,t,s){return _({method:"POST",url:"agentuser/".concat(s,"/updatedUserDeliveryDetails"),data:t,headers:{access_token:e}})}(g,N,e.currentUser.delivery_id).then((function(e){console.log("user location updated")})).catch((function(e){console.log(e)}))};return Object(d.jsx)(d.Fragment,{children:v?Object(d.jsxs)("div",{className:"Agents__spinners",children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)(Ut.a,{className:"container",children:Object(d.jsxs)(Tt.a,{children:[Object(d.jsx)("div",{className:"QRScanner__heading",children:"For change in quantity select here"}),Object(d.jsx)(Ve,{handleData:function(e,t){e.preventDefault(),r(t)}}),Object(d.jsx)("div",{onClick:function(e){return k(e)},className:"QRScanner__location",children:"Click Here to Update Location"}),Object(d.jsx)(Et.a,{children:Object(d.jsx)(It.a,{container:!0,spacing:2,children:Object(d.jsxs)(It.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:[Object(d.jsx)("h3",{children:"Qr Code Scan by Camera"}),Object(d.jsx)(zt.a,{delay:300,style:{width:"100%"},onError:function(e){console.log(e)},onScan:S}),Object(d.jsxs)("h3",{children:["User ID: ",b]})]})})})]})})})}function Mt(e){var t=["booked","delivered_morning","delivered_evening","cancelled","intransit","pickedup"],s=function(e){var s=t[e];return s||"Not Available"},n=function(t){var s=e.deliveryTypes.find((function(e){return e.delivery_type===t}));return s&&s.name};return Object(d.jsx)(d.Fragment,{children:e.products.map((function(t,a){return Object(d.jsx)("div",{children:"booked"===s(t.delivery_status)?Object(d.jsxs)("div",{children:[" ",Object(d.jsxs)("div",{className:"Deliveries__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Delivery Status"}),Object(d.jsx)("div",{onClick:function(s){return function(t,s,n,a,c,r){t.preventDefault(),e.setCurrentUser({delivery_id:s,user_id:n,quantity:a,del_type:c,product_type:r})}(s,e.delivery_id,e.user_id,t.quantity,t.delivery_type,t.product_type)},className:"Orders__status "+(c=s(t.delivery_status),"booked"===c?"Orders__blue":"delivered_morning"===c||"delivered_evening"===c?"Orders__green":"cancelled"===c?"Orders__red":"intransit"===c?"Orders__orange":"pickedup"===c?"Orders__yellow":"Orders__grey"),children:s(t.delivery_status)})]}),Object(d.jsxs)("div",{className:"Orders__products-row",children:[Object(d.jsx)("div",{className:"Orders__product-id",children:"Products"}),Object(d.jsxs)("div",{className:"Orders__product",children:[t.name," - ",t.quantity]})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Price "}),Object(d.jsxs)("div",{className:"cust-idnumber",children:[" ","\u20b9 ",t.price,"/-"," "]})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Delivery Type"}),Object(d.jsx)("div",{className:"cust-idnumber",children:n(t.delivery_type)})]})]}):Object(d.jsx)("div",{className:"Deliveries__products-row",children:"Already Delivered"})},a);var c}))})}function Rt(e){var t=Object(n.useState)(null),s=Object(i.a)(t,2),a=s[0],c=s[1],r=function(){c(null)};return Object(d.jsx)(d.Fragment,{children:a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(F,{isVisible:a,clearCurrentUser:r}),Object(d.jsx)(Ft,{currentUser:a,clearCurrentUser:r})]}):Object(d.jsx)("div",{className:"Orders__card-container",children:e.deliveries.map((function(t,s){return Object(d.jsxs)(A.a,{className:"Orders__order",elevation:2,children:[Object(d.jsxs)("div",{className:"Orders__cust-id Orders__date-address-row",children:[Object(d.jsx)("span",{children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:Object(d.jsx)("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})})}),"\xa0 ",t.id]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.UserDetail.name})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Customer Ph"}),Object(d.jsx)("div",{className:"cust-idnumber",children:t.UserDetail.phone_no})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Address"}),Object(d.jsx)("div",{className:"Orders__address",children:t.UserDetail.address})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Google Location"}),Object(d.jsx)("div",{onClick:function(e){return function(e,t,s){e.preventDefault();var n="https://www.google.com/maps/search/?api=1&query= ".concat(t," , ").concat(s),a=window.open(n,"_blank","noopener,noreferrer");a&&(a.opener=null)}(e,t.lat,t.long)},className:"cust-idnumber Deliveries__status",children:"Click Here - Maps"})]}),Object(d.jsxs)("div",{className:"Orders__customername",children:[Object(d.jsx)("div",{className:"Orders__cust-heading",children:"Ring Bell"}),Object(d.jsx)("div",{className:"Deliveries__status "+(n=Boolean(t.ring_bell).toString(),"true"===n?"Orders__green":"false"===n?"Orders__red":void 0),children:Boolean(t.ring_bell).toString()})]}),Object(d.jsx)(Mt,{products:t.products,delivery_id:t.delivery_id,user_id:t.user_id,deliveryTypes:e.deliveryTypes,setCurrentUser:c})]},s);var n}))})})}s(301);function Ht(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=e.access_token,l=e.userDetails,o=e.refreshAccessToken,u=Object(n.useState)([]),b=Object(i.a)(u,2),O=b[0],h=b[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),v=f[0],p=f[1];return Object(n.useEffect)((function(){p(!0),function(e,t){return _({method:"GET",url:"agent/".concat(e,"/listDeliveries"),headers:{access_token:t}})}(l.user_id,r).then((function(e){c(e.data.data)})).catch((function(e){p(!0),e&&e.response&&401===e.response.status&&o()})),U(r).then((function(e){h(e.data.data),p(!1)})).catch((function(e){p(!0)}))}),[l.user_id,r,o]),Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsx)("div",{className:"Orders__main-heading",children:Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(V,{})," ","  "," Agent Deliveries"]})}),Object(d.jsx)("div",{children:v&&!a.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})]}):Object(d.jsx)(Rt,{agent:e.userDetails.name,deliveryTypes:O,deliveries:a})})]})}var Bt=s.p+"static/media/cancel.c228d75b.svg",Vt=s.p+"static/media/pencil.0c835751.svg",Qt=s.p+"static/media/save.f8c222ed.svg";function Gt(e){var t=Object(n.useState)(e.deliverytype),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],j=function(e,t){switch(e.preventDefault(),t){case 1:return c(Object(ie.a)(Object(ie.a)({},a),{},{name:e.target.value}));case 2:return c(Object(ie.a)(Object(ie.a)({},a),{},{description:e.target.value}));default:return}},b=function(t){t.preventDefault();var s,n,c,r={name:a.name,description:a.description};s=e.access_token,n=r,c=a.id,_({method:"POST",url:"deliverytype/".concat(c,"/updatedeliverytype"),headers:{access_token:s},data:n}),u(!1)};return Object(d.jsxs)(A.a,{className:"Deliveries__types-container",elevation:2,children:[o===a.id?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return j(e,1)},value:a.name}),Object(d.jsx)("input",{className:"Deliveries__edit-input",onChange:function(e){return j(e,2)},value:a.description})]}):Object(d.jsxs)("div",{className:"Deliveries__types-container",children:[a.name," : ",a.description]}),Object(d.jsx)("div",{className:"Deliveries__types-container-img",children:o===a.id?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"Deliveries__types-svg",src:Qt,alt:"save",onClick:function(e){return b(e)}}),Object(d.jsx)("img",{className:"Deliveries__types-svg",src:Bt,alt:"cancel",onClick:function(t){return function(t){t.preventDefault(),c(e.deliverytype),u(!1)}(t)}})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("img",{className:"Deliveries__types-svg",onClick:function(e){return function(e,t){e.preventDefault(),u(t)}(e,a.id)},src:Vt,alt:"delete"})})})]})}function Wt(){var e=Object(n.useContext)(j),t=Object(n.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(null),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)(null),v=Object(i.a)(f,2),p=v[0],g=v[1];Object(n.useEffect)((function(){e.access_token&&U(e.access_token).then((function(e){c(e.data.data)})).catch((function(t){console.log(t),t&&t.response&&401===t.response.status&&e.refreshAccessToken()}))}),[e.access_token,e,o]);var x=function(t){if(t.preventDefault(),h&&p){var s={name:h,description:p};(function(e,t){return _({method:"POST",url:"deliverytype/adddeliverytype",data:t,headers:{access_token:e}})})(e.access_token,s).then((function(e){(e.status=200)&&u(!o),m(""),g("")}))}};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsxs)("div",{className:"Orders__main-heading",children:[Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(vt,{})," ","  "," Delivery Types"]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return function(e){e.preventDefault(),u(!o)}(e)},children:o?"Cancel Adding":"Add new Delivery Type"})})]}),o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:"Login__input-focus-effect",placeholder:"name",type:"text",value:h,onChange:function(e){return m(e.target.value)}})}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("input",{className:"Login__input-focus-effect",placeholder:"description",type:"text",value:p,onChange:function(e){return g(e.target.value)}})}),Object(d.jsx)("div",{className:"Login__col-3",children:Object(d.jsx)("button",{className:"Users__refresh-button",onClick:function(e){return x(e)},children:"Submit"})})]}):a.map((function(t,s){return Object(d.jsx)(Gt,{access_token:e.access_token,deliverytype:t},s)}))]})}var Jt=Object(d.jsx)("img",{src:Te,alt:"dsd",fontSize:"small"}),Kt=Object(d.jsx)("img",{src:Ee,alt:"dsds",fontSize:"small"});function Zt(e){var t=e.access_token,s=e.refreshAccessToken,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],l=c[1],o=Object(ne.useQuery)([3,t],g,{onSuccess:function(e){(null===e||void 0===e?void 0:e.data)&&l(e.data.data),console.log(o)},onError:function(e){e&&e.response&&401===e.response.status&&s()}}).isLoading;return Object(d.jsx)("div",{className:"AssignUsers__main",children:Object(d.jsx)(Le.a,{multiple:!0,id:"checkboxes-tags-demo",onChange:function(t,s){return e.handleData(t,s,"user")},options:r,getOptionLabel:function(e){return e.phone_no},renderOption:function(e,t,s){var n=s.selected;return Object(d.jsxs)("li",Object(ie.a)(Object(ie.a)({},e),{},{children:[Object(d.jsx)(Ue.a,{icon:Jt,checkedIcon:Kt,style:{marginRight:8},checked:n}),t.phone_no]}))},renderInput:function(e){return Object(d.jsx)(m.a,Object(ie.a)(Object(ie.a)({},e),{},{label:"Select Users",placeholder:"Users"}))}})})}function $t(){var e=Object(n.useContext)(j),t=Object(n.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],b=Object(n.useState)(0),O=Object(i.a)(b,2),h=O[0],m=O[1],f=Object(n.useState)({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),v=Object(i.a)(f,2),p=v[0],_=v[1],g=["Select Agent","Select User","Select Product","Select Quantity","Select Delivery type"];var x=function(e,t,s){e&&e.preventDefault(),"agent"===s&&_(Object(ie.a)(Object(ie.a)({},p),{},{agent_id:t})),"user"===s&&_(Object(ie.a)(Object(ie.a)({},p),{},{users:t})),"delivery_type"===s&&_(Object(ie.a)(Object(ie.a)({},p),{},{delivery_type:t})),"quantity"===s&&_(Object(ie.a)(Object(ie.a)({},p),{},{quantity:t})),u(!0)},y=function(e,t){e.preventDefault(),_(Object(ie.a)(Object(ie.a)({},p),{},{price:t.price,product_type:t.product_type,measurement:t.measurement||""})),u(!0)};return Object(d.jsxs)("div",{className:"main-container",children:[Object(d.jsx)("div",{className:"Orders__main-heading",children:Object(d.jsxs)("div",{className:"General-main-heading",children:[Object(d.jsx)(ge,{})," ","  "," Assign Users to Agents"]})}),a?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(K,{}),Object(d.jsx)(Z.a,{animation:"wave",height:100,width:"80%"}),Object(d.jsx)(Z.a,{variant:"rectangular",animation:"wave",width:210,height:118})," "]}):Object(d.jsxs)(A.a,{className:"AssignUsers__sub",elevation:2,children:[Object(d.jsx)(ke.a,{alternativeLabel:!0,activeStep:h,children:g.map((function(e,t){return Object(n.createElement)(De.a,Object(ie.a)(Object(ie.a)({},{}),{},{key:t}),Object(d.jsx)(Ce.a,Object(ie.a)(Object(ie.a)({},{}),{},{children:e})))}))}),h===g.length?Object(d.jsx)(Pe.a,{variant:"h4",align:"center",children:"Agent Assigned to User Successfully"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("form",{children:function(t){switch(t){case 0:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Re,{access_token:e.access_token,refreshAccessToken:e.refreshAccessToken,handleData:x})});case 1:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Zt,{handleData:x,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 2:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(ze,{handlePData:y,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 3:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ve,{measurement:p.measurement||"",handleData:x,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});case 4:return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(We,{handleData:x,refreshAccessToken:e.refreshAccessToken,access_token:e.access_token})});default:return"unknown step"}}(h)}),Object(d.jsx)(Ae.a,{disabled:0===h,onClick:function(){m(h-1)},children:"Back"}),Object(d.jsx)(Ae.a,{className:"",variant:"contained",disabled:!o,color:"primary",onClick:function(t){return h===g.length-1?function(t){t.preventDefault(),c(!0);var s=p.users.map((function(e){return e.user_id})),n=[];s.map((function(e){return n.push({user_id:e,quantity:p.quantity,delivery_type:p.delivery_type,product_type:p.product_type,price:p.price})}));var a={agent_id:p.agent_id,assignlist:n};$(e.access_token,a).then((function(e){_({agent_id:"",users:"",quantity:"",delivery_type:"",product_type:"",price:""}),m(0),c(!1),alert("successfully saved")})).catch((function(e){c(!1),alert("Please try again")}))}(t):(o&&m(h+1),void u(!1))},children:h===g.length-1?"Submit":"Next"})]})]})]})}s(538);var Yt,Xt=["title","titleId"];function es(){return es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},es.apply(this,arguments)}function ts(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ss(e,t){var s=e.title,a=e.titleId,c=ts(e,Xt);return n.createElement("svg",es({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-gear-wide-connected",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,Yt||(Yt=n.createElement("path",{d:"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646.087.065-.087-.065z"})))}var ns,as=n.forwardRef(ss),cs=(s.p,["title","titleId"]);function rs(){return rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},rs.apply(this,arguments)}function is(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ls(e,t){var s=e.title,a=e.titleId,c=is(e,cs);return n.createElement("svg",rs({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-truck",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,ns||(ns=n.createElement("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})))}var os,ds,us=n.forwardRef(ls),js=(s.p,["title","titleId"]);function bs(){return bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},bs.apply(this,arguments)}function Os(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function hs(e,t){var s=e.title,a=e.titleId,c=Os(e,js);return n.createElement("svg",bs({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-person-plus",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,os||(os=n.createElement("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})),ds||(ds=n.createElement("path",{fillRule:"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})))}var ms=n.forwardRef(hs);s.p;function fs(e){var t,s=Object(n.useContext)(j),a=Object(n.useState)([{title:"Orders",value:"orders"},{title:"Users",value:"users"},{title:"Agents",value:"agents"},{title:"Products",value:"products"},{value:"assign_users",title:"Assign Users"},{value:"delivery_type",title:"Delivery Types"},{value:"settings",title:"Account"}]),c=Object(i.a)(a,1)[0],r=Object(n.useState)([{title:"Deliveries",value:"deliveries"},{title:"settings",value:"settings"}]),l=Object(i.a)(r,1)[0],u=Object(o.h)(),b=Object(n.useRef)(),O=Object(n.useState)(Boolean(window.innerWidth>1025)),h=Object(i.a)(O,1)[0],m=Object(n.useRef)(null);t=m,Object(n.useEffect)((function(){function e(e){h||!t.current||t.current.contains(e.target)||(b.current.checked=!1)}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t]);var f=function(e){switch(e.toString()){case"1":return Object(d.jsx)(V,{style:{color:"white"}});case"2":return Object(d.jsx)(ge,{style:{color:"white"}});case"3":return Object(d.jsx)(vt,{style:{color:"white"}});case"4":return Object(d.jsx)(it,{style:{color:"white"}});case"5":return Object(d.jsx)(ms,{style:{color:"white"}});case"6":return Object(d.jsx)(us,{style:{color:"white"}});default:return Object(d.jsx)(as,{style:{color:"white"}})}},v=s.isAdmin?c:l;return Object(d.jsxs)("div",{ref:m,className:"Navbar__header",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"checkbox",defaultChecked:h,ref:b,className:"openSidebarMenu",id:"openSidebarMenu"}),Object(d.jsxs)("label",{htmlFor:"openSidebarMenu",className:"Navbar__sidebarIconToggle",children:[Object(d.jsx)("div",{className:"spinner diagonal part-1"}),Object(d.jsx)("div",{className:"spinner horizontal"}),Object(d.jsx)("div",{className:"spinner diagonal part-2"})]}),Object(d.jsxs)("div",{id:"sidebarMenu",className:"Navbar__sidebarMenu",children:[Object(d.jsxs)("div",{className:"Navbar__sidebarMenu-header",children:[s.isAdmin?"Admin":"Agent"," Dashboard ",Object(d.jsx)("br",{}),Object(d.jsx)("span",{children:"Have a Happy Day "})]}),Object(d.jsx)("ul",{className:"Navbar__sidebarMenu-inner",children:v.map((function(e,t){return Object(d.jsx)("li",{onClick:function(t){return function(e,t){e.preventDefault(),u(t),h||(b.current.checked=!1)}(t,e.value)},children:Object(d.jsxs)("div",{className:"Navbar__sideMenu-icons",children:[s.isAdmin?f(t+1):(n=t+1,"1"===n.toString()?Object(d.jsx)(us,{style:{color:"white"}}):Object(d.jsx)(as,{style:{color:"white"}})),Object(d.jsx)("span",{className:"Navbar__sideMenu-icons-img",children:e.title})]})},t);var n}))})]})]}),Object(d.jsx)("div",{onClick:function(e){return function(e){return e.preventDefault(),u("/")}(e)},className:"Navbar__component-name",children:Object(d.jsx)("img",{height:"80px",width:"150px",src:S,alt:"Daily"})}),Object(d.jsxs)("div",{onClick:function(e){return e.preventDefault(),localStorage.clear(),sessionStorage.clear(),s.setIsLoggedIn(!1),s.setAccessToken(null),s.setIsAdmin(!1),s.setRefreshToken(null),u("/")},className:"Navbar__logout-container",children:[Object(d.jsx)("div",{className:"Navbar__logout-image",children:Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"white",className:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(d.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(d.jsx)("path",{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]})}),Object(d.jsx)("div",{className:"Navbar__logout-text",children:"LOGOUT"})]})]})}var vs,ps=s(557),_s=s(611),gs=s(624),xs=s(625),ys=["title","titleId"];function Ns(){return Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ns.apply(this,arguments)}function ws(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)s=c[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function Ss(e,t){var s=e.title,a=e.titleId,c=ws(e,ys);return n.createElement("svg",Ns({xmlns:"http://www.w3.org/2000/svg",width:25,height:25,fill:"currentColor",className:"bi bi-house-door",viewBox:"0 0 16 16",ref:t,"aria-labelledby":a},c),s?n.createElement("title",{id:a},s):null,vs||(vs=n.createElement("path",{d:"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"})))}var ks=n.forwardRef(Ss);s.p;function Ds(e){var t=Object(n.useContext)(j),s=Object(n.useState)(0),a=Object(i.a)(s,2),c=a[0],r=a[1],l=Object(o.h)(),u=Object(n.useRef)(null),b=function(e,s){switch(e.preventDefault(),s.toString()){case"0":default:return l("/");case"1":return t.isAdmin?l("orders"):l("deliveries");case"2":return l("settings")}};return Object(d.jsxs)(ps.a,{sx:{pb:7},ref:u,children:[Object(d.jsx)(_s.a,{}),Object(d.jsx)(A.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(d.jsxs)(gs.a,{showLabels:!0,value:c,onChange:function(e,t){b(e,t),r(t)},children:[Object(d.jsx)(xs.a,{label:"Home",icon:Object(d.jsx)(ks,{style:{color:"#90a0ee"}})}),Object(d.jsx)(xs.a,{label:"Deliveries",icon:Object(d.jsx)(us,{style:{color:"#90a0ee"}})}),Object(d.jsx)(xs.a,{label:"Account",icon:Object(d.jsx)(as,{style:{color:"#90a0ee"}})})]})})]})}s(539);function Cs(){var e=Object(n.useContext)(j);return Object(d.jsx)("div",{children:e.isAdmin?Object(d.jsx)(o.a,{to:"/statistics"}):Object(d.jsx)(o.a,{to:"/deliveries"})})}var As=s.p+"static/media/404.0c2be578.gif";function Ps(){return Object(d.jsxs)("div",{className:"main-container",children:["Not found",Object(d.jsx)(l.b,{to:"/",children:"Home"}),Object(d.jsx)("img",{height:"500px",width:"400px",src:As,alt:"Daily"})," "]})}var Ls=s(315);function Us(){var e=JSON.parse(localStorage.getItem("loggedIn")),t=JSON.parse(localStorage.getItem("isAdmin")),s=sessionStorage.getItem("access_token"),a=localStorage.getItem("refresh_token"),c=JSON.parse(localStorage.getItem("userDetails")),r=Object(n.useState)(c||{}),b=Object(i.a)(r,2),O=b[0],h=b[1],m=Object(n.useState)(e||!1),f=Object(i.a)(m,2),v=f[0],p=f[1],g=Object(n.useState)(t||!1),x=Object(i.a)(g,2),y=x[0],N=x[1],w=Object(n.useState)(s||null),S=Object(i.a)(w,2),k=S[0],C=S[1],A=Object(n.useState)(a||null),P=Object(i.a)(A,2),L=P[0],U=P[1];Object(n.useEffect)((function(){if(!k)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("loggedIn",Boolean(v))}),[v,k]),Object(n.useEffect)((function(){if(!k)return localStorage.setItem("loggedIn",Boolean(!1));localStorage.setItem("isAdmin",Boolean(y))}),[y,k]),Object(n.useEffect)((function(){localStorage.setItem("userDetails",JSON.stringify(O))}),[O]),Object(n.useEffect)((function(){sessionStorage.setItem("access_token",k)}),[k]),Object(n.useEffect)((function(){localStorage.setItem("refresh_token",L)}),[L]);var T={isLoggedIn:v,access_token:k,refresh_token:L,isAdmin:y,userDetails:O,refreshAccessToken:function(){var e;(e=L,_({method:"POST",url:"oauth/token",headers:{grant_type:"refresh",refresh_token:e}})).then((function(e){C(e.data.access_token)}))},setIsLoggedIn:p,setAccessToken:C,setIsAdmin:N,setRefreshToken:U,saveuserDetails:function(e){h(e)}};return Object(d.jsxs)(l.a,{children:[Object(d.jsxs)(j.Provider,{value:T,children:[v?Object(d.jsx)(fs,{}):Object(d.jsx)(d.Fragment,{children:" "}),Object(d.jsxs)(o.e,{children:[Object(d.jsxs)(o.c,{exact:!0,path:"/",element:Object(d.jsx)(u,{}),children:[Object(d.jsx)(o.c,{exact:!0,path:"/",element:Object(d.jsx)(Cs,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/users",element:Object(d.jsx)(xe,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/users/:id",element:Object(d.jsx)(Ze,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/users/:id/history",element:Object(d.jsx)(Ye,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/orders",element:Object(d.jsx)(ae,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/agents",element:Object(d.jsx)(pt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/agents/:id",element:Object(d.jsx)(_t,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/products",element:Object(d.jsx)(lt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/products/:id",element:Object(d.jsx)(ot,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/assign_users",element:Object(d.jsx)($t,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/delivery_type",element:Object(d.jsx)(Wt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/settings",element:Object(d.jsx)(gt,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/deliveries",element:Object(d.jsx)(Ht,{})}),Object(d.jsx)(o.c,{exact:!0,path:"/statistics",element:Object(d.jsx)(Lt,{})})]}),Object(d.jsx)(o.c,{exact:!0,path:"/login",element:Object(d.jsx)(D,{})}),Object(d.jsx)(o.c,{path:"*",element:Object(d.jsx)(Ps,{})})]}),v?Object(d.jsx)(Ds,{}):Object(d.jsx)(d.Fragment,{children:" "})]}),Object(d.jsx)(Ls.ReactQueryDevtools,{})]})}var Ts=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,630)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))},Es=new ne.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchOnmount:!0,refetchOnReconnect:!0,retry:!0}}});r.a.render(Object(d.jsx)(ne.QueryClientProvider,{client:Es,children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Us,{})})}),document.getElementById("root")),Ts()}},[[540,1,2]]]);
//# sourceMappingURL=main.b96ae4a5.chunk.js.map